webpackJsonp([2],{491:function(n,a,s){"use strict";a.__esModule=!0,a.default={api:[s(617),s(618),s(619),s(620),s(621),s(622),s(623),s(624),s(625),s(626),s(627),s(628)],examples:[],guides:[s(492),s(629),s(630),s(493),s(495),s(494)]}},492:function(n,a){n.exports={markup:'<h1 id="philosophy"><a href="/core/guides/philosophy" class="internal-link">Philosophy</a></h1>\n<p>&#x672C;&#x6307;&#x5357;&#x7684;&#x76EE;&#x7684;&#x662F;&#x89E3;&#x91CA;&#x5728;&#x4F7F;&#x7528; React Router &#x65F6;&#x7684;&#x6784;&#x601D;&#x6A21;&#x578B;&#x3002; &#x6211;&#x4EEC;&#x79F0;&#x4E4B;&#x4E3A;&#x201C;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#x201D;&#xFF0C;&#x5B83;&#x4E0E;&#x4F60;&#x4EEC;&#x53EF;&#x80FD;&#x66F4;&#x719F;&#x6089;&#x7684;&#x201C;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x201D;&#x622A;&#x7136;&#x4E0D;&#x540C;&#x3002;</p>\n<h2 id="philosophy-"><a href="/core/guides/philosophy/" class="internal-link">&#x9759;&#x6001;&#x8DEF;&#x7531;</a></h2>\n<p>&#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x8FC7; Rails&#xFF0C;Express&#xFF0C;Ember&#xFF0C;Angular &#x7B49;&#xFF0C;&#x90A3;&#x4E48;&#x5E94;&#x8BE5;&#x719F;&#x6089;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x4E86;&#x3002; &#x5728;&#x8FD9;&#x4E9B;&#x6846;&#x67B6;&#x4E2D;&#xFF0C;&#x4EFB;&#x4F55;&#x6E32;&#x67D3;&#x53D1;&#x751F;&#x4E4B;&#x524D;&#xFF0C;&#x90FD;&#x4F1A;&#x5C06;&#x60A8;&#x7684;&#x8DEF;&#x7531;&#x58F0;&#x660E;&#x4E3A;&#x5E94;&#x7528;&#x521D;&#x59CB;&#x5316;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002; React Router pre-v4 &#x4E5F;&#x662F;&#x9759;&#x6001;&#x7684;&#xFF08;&#x4E3B;&#x8981;&#x662F;&#xFF09;&#x3002;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x5982;&#x4F55;&#x7528; express &#x6765;&#x914D;&#x7F6E;&#x8DEF;&#x7531;&#xFF1A;</p>\n<pre><code class="language-js">app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> handleIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/invoices&quot;</span><span class="token punctuation">,</span> handleInvoices<span class="token punctuation">)</span><span class="token punctuation">;</span>\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/invoices/:id&quot;</span><span class="token punctuation">,</span> handleInvoice<span class="token punctuation">)</span><span class="token punctuation">;</span>\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/invoices/:id/edit&quot;</span><span class="token punctuation">,</span> handleInvoiceEdit<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>&#x8BF7;&#x6CE8;&#x610F;&#x8DEF;&#x7531;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x76D1;&#x542C;&#x4E4B;&#x524D;&#x662F;&#x5982;&#x4F55;&#x58F0;&#x660E;&#x7684;&#x3002; &#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8DEF;&#x7531;&#x5668;&#x90FD;&#x5F88;&#x7C7B;&#x4F3C;&#x3002; &#x5728; Angular &#x4E2D;&#xFF0C;&#x4F60;&#x5148;&#x58F0;&#x660E;&#x4F60;&#x7684;&#x8DEF;&#x7531;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6E32;&#x67D3;&#x4E4B;&#x524D;&#x5C06;&#x5B83;&#x4EEC;&#x5BFC;&#x5165;&#x5230;&#x9876;&#x5C42; <code>AppModule</code>&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> appRoutes<span class="token punctuation">:</span> Routes <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    path<span class="token punctuation">:</span> <span class="token string">&quot;crisis-center&quot;</span><span class="token punctuation">,</span>\n    component<span class="token punctuation">:</span> CrisisListComponent\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    path<span class="token punctuation">:</span> <span class="token string">&quot;hero/:id&quot;</span><span class="token punctuation">,</span>\n    component<span class="token punctuation">:</span> HeroDetailComponent\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    path<span class="token punctuation">:</span> <span class="token string">&quot;heroes&quot;</span><span class="token punctuation">,</span>\n    component<span class="token punctuation">:</span> HeroListComponent<span class="token punctuation">,</span>\n    data<span class="token punctuation">:</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">&quot;Heroes List&quot;</span> <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    path<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>\n    redirectTo<span class="token punctuation">:</span> <span class="token string">&quot;/heroes&quot;</span><span class="token punctuation">,</span>\n    pathMatch<span class="token punctuation">:</span> <span class="token string">&quot;full&quot;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    path<span class="token punctuation">:</span> <span class="token string">&quot;**&quot;</span><span class="token punctuation">,</span>\n    component<span class="token punctuation">:</span> PageNotFoundComponent\n  <span class="token punctuation">}</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n@<span class="token function">NgModule</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>RouterModule<span class="token punctuation">.</span><span class="token function">forRoot</span><span class="token punctuation">(</span>appRoutes<span class="token punctuation">)</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n</code></pre>\n<p>Ember &#x6709;&#x4E00;&#x4E2A;&#x4F20;&#x7EDF;&#x7684; <code>routes.js</code> &#x6587;&#x4EF6;&#xFF0C;&#x6784;&#x5EFA;&#x3001;&#x8BFB;&#x53D6;&#xFF0C;&#x5E76;&#x4E3A;&#x4F60;&#x5BFC;&#x5165;&#x5230;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002; &#x540C;&#x6837;&#xFF0C;&#x8FD9;&#x53D1;&#x751F;&#x5728;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6E32;&#x67D3;&#x4E4B;&#x524D;&#x3002;</p>\n<pre><code class="language-js">Router<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&quot;about&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&quot;contact&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&quot;rentals&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">&quot;show&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">&quot;/:rental_id&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> Router<span class="token punctuation">;</span>\n</code></pre>\n<p>&#x867D;&#x7136; API &#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x7684;&#x6A21;&#x5F0F;&#x90FD;&#x662F;&#x201C;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x201D;&#x3002; React Router &#x4E5F;&#x4E00;&#x76F4;&#x4FDD;&#x6301;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#xFF0C;&#x76F4;&#x5230;&#x5347;&#x7EA7;&#x81F3; v4 &#x7248;&#x672C;&#x3002;</p>\n<p>&#x60F3;&#x8981;&#x6210;&#x529F;&#x7684;&#x4F7F;&#x7528; React Router&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x5FD8;&#x8BB0;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#xFF01;&#xFF1A;o</p>\n<h2 id="philosophy-"><a href="/core/guides/philosophy/" class="internal-link">&#x80CC;&#x666F;&#x6545;&#x4E8B;</a></h2>\n<p>&#x5766;&#x7387;&#x5730;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;&#x6211;&#x4EEC;&#x5728;&#x7B2C; 2 &#x7248;&#x91C7;&#x7528; React Router &#x7684;&#x65B9;&#x5411;&#x611F;&#x5230;&#x975E;&#x5E38;&#x6CAE;&#x4E27;&#x3002; &#x6211;&#x4EEC;&#xFF08; Michael &#x548C; Ryan &#xFF09;&#x53D7; API &#x7684;&#x9650;&#x5236;&#xFF0C;&#x5728;&#x91CD;&#x6784; React&#xFF08;&#x751F;&#x547D;&#x5468;&#x671F;&#x7B49;&#xFF09;&#x7684;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x90FD;&#x8BA4;&#x4E3A;&#x5B83;&#x4E0E; React &#x7F16;&#x5199; UI &#x7684;&#x6784;&#x601D;&#x6A21;&#x578B;&#x4E0D;&#x5339;&#x914D;&#x3002;</p>\n<p>&#x5728;&#x7814;&#x8BA8;&#x4F1A;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x5904;&#x7406;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x6B63;&#x8D70;&#x5728;&#x4E00;&#x5BB6;&#x65C5;&#x9986;&#x7684;&#x8D70;&#x5ECA;&#xFF0C; &#x6211;&#x4EEC;&#x4E92;&#x76F8;&#x95EE;&#xFF1A;&#x201C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5728;&#x7814;&#x8BA8;&#x4F1A;&#x4E0A;&#x7814;&#x8BA8;&#x7684;&#x6A21;&#x5F0F;&#x6784;&#x5EFA;&#x8DEF;&#x7531;&#x5668;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x4F1A;&#x662F;&#x4EC0;&#x4E48;&#x6837;&#x5B50;&#xFF1F;&#x201D;</p>\n<p>&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x53EA;&#x6709;&#x51E0;&#x4E2A;&#x5C0F;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#x8BC1;&#x660E;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x8FD9;&#x662F;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x7684;&#x8DEF;&#x7531;&#x7684;&#x672A;&#x6765;&#x3002;&#x6211;&#x4EEC;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x7684; API &#x4E0D;&#x5728; React &#x7684;&#x201C;&#x5916;&#x90E8;&#x201D;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4E0E; React &#x7684;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#x6216;&#x81EA;&#x7136;&#x653E;&#x7F6E;&#x5230;&#x4F4D;&#x7684; API&#x3002;&#x6211;&#x4EEC;&#x60F3;&#x4F60;&#x4F1A;&#x559C;&#x6B22;&#x7684;&#x3002;</p>\n<h2 id="philosophy-"><a href="/core/guides/philosophy/" class="internal-link">&#x52A8;&#x6001;&#x8DEF;&#x7531;</a></h2>\n<p>&#x5F53;&#x6211;&#x4EEC;&#x8BF4;&#x52A8;&#x6001;&#x8DEF;&#x7531;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x6307;&#x7684;&#x662F;&#x5728;<strong>&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6E32;&#x67D3;&#x65F6;</strong>&#x53D1;&#x751F;&#x7684;&#x8DEF;&#x7531;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x8FD0;&#x884C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E4B;&#x5916;&#x7684;&#x914D;&#x7F6E;&#x6216;&#x7EA6;&#x5B9A;&#x4E2D;&#x53D1;&#x751F;&#x7684;&#x8DEF;&#x7531;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x4E00;&#x5207;&#x90FD;&#x662F; React &#x8DEF;&#x7531;&#x5668;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x5BF9; API &#x7684; 60 &#x79D2;&#x949F;&#x56DE;&#x987E;&#xFF0C;&#x4EE5;&#x4E86;&#x89E3;&#x5176;&#x5DE5;&#x4F5C;&#x539F;&#x7406;:</p>\n<p>&#x9996;&#x5148;&#xFF0C;&#x5728;&#x76EE;&#x6807;&#x73AF;&#x5883;&#x4E2D;&#x83B7;&#x53D6;&#x4E00;&#x4E2A; <code>Router</code> &#x7EC4;&#x4EF6;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x6E32;&#x67D3;&#x5728;&#x5E94;&#x7528;&#x7684;&#x9876;&#x90E8;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token comment">// react-native</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> NativeRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-native&quot;</span><span class="token punctuation">;</span>\n\n<span class="token comment">// react-dom (what we&apos;ll use here)</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>\n  el\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x5C06; link &#x7EC4;&#x4EF6;&#x94FE;&#x63A5;&#x5230;&#x65B0;&#x4F4D;&#x7F6E;:</p>\n<pre><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>&#x6700;&#x540E;&#xFF0C;&#x6E32;&#x67D3; <code>Route</code> &#x4EE5;&#x5728;&#x7528;&#x6237;&#x8BBF;&#x95EE; <code>/dashboard</code> &#x65F6;&#x6E32;&#x67D3;&#x4E00;&#x4E9B;&#x7528;&#x6237;&#x754C;&#x9762;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Dashboard<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><code>Route</code> &#x5C06;&#x6E32;&#x67D3; <code>&lt;Dashboard {...props}/&gt;</code>&#xFF0C;&#x5176;&#x4E2D; <code>props</code> &#x662F;&#x4E00;&#x4E9B;&#x8DEF;&#x7531;&#x5668;&#x7279;&#x6709;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x50CF; <code>{ match, location, history }</code>&#x3002;&#x5982;&#x679C;&#x7528;&#x6237;&#x4E0D;&#x5728; <code>/dashboard</code> &#x5904;&#xFF0C;&#x5219; <code>Route</code> &#x5C06;&#x6E32;&#x67D3; <code>null</code>&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x5B83;&#x7684;&#x5168;&#x90E8;&#x5185;&#x5BB9;&#x3002;</p>\n<h2 id="philosophy-"><a href="/core/guides/philosophy/" class="internal-link">&#x5D4C;&#x5957;&#x8DEF;&#x7531;</a></h2>\n<p>&#x5F88;&#x591A;&#x8DEF;&#x7531;&#x5668;&#x90FD;&#x6709;&#x4E00;&#x4E9B;&#x201C;&#x5D4C;&#x5957;&#x8DEF;&#x7531;&#x201D;&#x7684;&#x6982;&#x5FF5;&#x3002; &#x5982;&#x679C;&#x4F7F;&#x7528; v4 &#x4E4B;&#x524D;&#x7248;&#x672C;&#x7684; React Router&#xFF0C;&#x4E5F;&#x4F1A;&#x77E5;&#x9053;&#x5B83;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#xFF01; &#x5F53;&#x4F60;&#x4ECE;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x79FB;&#x52A8;&#x5230;&#x52A8;&#x6001;&#x6E32;&#x67D3;&#x8DEF;&#x7531;&#x65F6;&#xFF0C;&#x4F60;&#x5982;&#x4F55;&#x201C;&#x5D4C;&#x5957;&#x8DEF;&#x7531;&#x201D;&#xFF1F; &#x540C;&#x65F6;&#xFF0C;&#x4F60;&#x5982;&#x4F55;&#x5D4C;&#x5165; <code>div</code>&#xFF1F;</p>\n<pre><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span><span class="token comment">/* here&apos;s a div */</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token punctuation">{</span><span class="token comment">/* here&apos;s a Route */</span><span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/tacos<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Tacos<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// when the url matches `/tacos` this component renders</span>\n<span class="token keyword">const</span> <span class="token function-variable function">Tacos</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token comment">// here&apos;s a nested div</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span><span class="token comment">/* here&apos;s a nested Route,\n            match.url helps us make a relative path */</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>match<span class="token punctuation">.</span>url <span class="token operator">+</span> <span class="token string">&quot;/carnitas&quot;</span><span class="token punctuation">}</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Carnitas<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>&#x5982;&#x4F55;&#x770B;&#x5F85;&#x8DEF;&#x7531;&#x5668;&#x6CA1;&#x6709;&#x201C;&#x5D4C;&#x5957;&#x201D;API&#xFF1F; <code>Route</code> &#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x5C31;&#x50CF; <code>div</code> &#x4E00;&#x6837;&#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x4E3A;&#x4E86;&#x5D4C;&#x5165; <code>Route</code> &#x6216; <code>div</code>&#xFF0C;&#x4F60;&#x53EA;&#x9700;&#x2026;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#x3002;</p>\n<p>&#x8BA9;&#x6211;&#x4EEC;&#x53D8;&#x5F97;&#x66F4;&#x673A;&#x8B66;&#x3002;</p>\n<h2 id="philosophy-"><a href="/core/guides/philosophy/" class="internal-link">&#x54CD;&#x5E94;&#x5F0F;&#x8DEF;&#x7EBF;</a></h2>\n<p>&#x8003;&#x8651;&#x5230;&#x7528;&#x6237;&#x5BFC;&#x822A;&#x5230; <code>/invoices</code>&#x3002; &#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9002;&#x5E94;&#x4E0D;&#x540C;&#x7684;&#x5C4F;&#x5E55;&#x5C3A;&#x5BF8;&#xFF0C;&#x5B83;&#x4EEC;&#x5177;&#x6709;&#x8F83;&#x7A84;&#x7684;&#x89C6;&#x7A97;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x80FD;&#x5411;&#x4ED6;&#x4EEC;&#x5C55;&#x793A;&#x53D1;&#x7968;&#x5217;&#x8868;&#x548C;&#x8FDE;&#x63A5;&#x5230;&#x53D1;&#x7968;&#x4EEA;&#x8868;&#x677F;&#x3002;&#x4ED6;&#x4EEC;&#x53EF;&#x4EE5;&#x4ECE;&#x90A3;&#x91CC;&#x8FDB;&#x5165;&#x5230;&#x66F4;&#x6DF1;&#x4E00;&#x6B65;&#x7684;&#x5BFC;&#x822A;&#x3002;</p>\n<pre><code class="language-asciidoc">Small Screen\nurl: /invoices\n\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Dashboard       |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Invoice 01      |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Invoice 02      |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Invoice 03      |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n|                      |\n|      Invoice 04      |\n|                      |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>\n</code></pre>\n<p>&#x5728;&#x8F83;&#x5927;&#x7684;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x4E3B;-&#x4ECE;&#x5173;&#x7CFB;&#x89C6;&#x56FE;&#xFF0C;&#x5176;&#x4E2D;&#x5BFC;&#x822A;&#x4F4D;&#x4E8E;&#x5DE6;&#x4FA7;&#xFF0C;&#x4EEA;&#x8868;&#x677F;&#x6216;&#x7279;&#x5B9A;&#x53D1;&#x7968;&#x663E;&#x793A;&#x5728;&#x53F3;&#x4FA7;&#x3002;</p>\n<pre><code class="language-asciidoc">Large Screen\nurl: /invoices/dashboard\n\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>---------------------------+\n|                      |                           |\n|      Dashboard       |                           |\n|                      |   Unpaid:             5   |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |   Balance:   $53,543.00   |\n|      Invoice 01      |                           |\n|                      |   Past Due:           2   |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 02      |                           |\n|                      |   <span class="token inline"><span class="token punctuation">+</span>-------------------<span class="token punctuation">+</span></span>   |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>   |                   |   |\n|                      |   |  +    +     +     |   |\n|      Invoice 03      |   |  | +  |     |     |   |\n|                      |   |  | |  |  +  |  +  |   |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>   |  | |  |  |  |  |  |   |\n|                      |   <span class="token inline"><span class="token punctuation">+</span>--<span class="token punctuation">+</span></span>-<span class="token inline"><span class="token punctuation">+</span>--<span class="token punctuation">+</span></span>--<span class="token inline"><span class="token punctuation">+</span>--<span class="token punctuation">+</span></span>--<span class="token inline"><span class="token punctuation">+</span>--<span class="token punctuation">+</span></span>   |\n|      Invoice 04      |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>---------------------------+\n</code></pre>\n<p>&#x73B0;&#x5728;&#x6682;&#x505C;&#x4E00;&#x5206;&#x949F;&#xFF0C;&#x8003;&#x8651;&#x4E00;&#x4E0B;&#x4E24;&#x79CD;&#x5C4F;&#x5E55;&#x5927;&#x5C0F;&#x7684; <code>/invoices</code> URL&#x3002;&#x5B83;&#x751A;&#x81F3;&#x662F;&#x4E00;&#x4E2A;&#x5927;&#x5C4F;&#x5E55;&#x7684;&#x6709;&#x6548;&#x8DEF;&#x7531;&#x5417;&#xFF1F;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x628A;&#x4EC0;&#x4E48;&#x653E;&#x5728;&#x53F3;&#x8FB9;&#xFF1F;</p>\n<pre><code class="language-asciidoc">Large Screen\nurl: /invoices\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>---------------------------+\n|                      |                           |\n|      Dashboard       |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 01      |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 02      |             ???           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 03      |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>                           |\n|                      |                           |\n|      Invoice 04      |                           |\n|                      |                           |\n<span class="token inline"><span class="token punctuation">+</span>----------------------<span class="token punctuation">+</span></span>---------------------------+\n</code></pre>\n<p>&#x5728;&#x5927;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;<code>/invoices</code> &#x4E0D;&#x662F;&#x6709;&#x6548;&#x7684;&#x8DEF;&#x7EBF;&#xFF0C;&#x4F46;&#x5B83;&#x5728;&#x5C0F;&#x5C4F;&#x5E55;&#x4E0A;&#x662F;&#xFF01; &#x4E3A;&#x4E86;&#x8BA9;&#x4E8B;&#x60C5;&#x53D8;&#x5F97;&#x66F4;&#x6709;&#x8DA3;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x62E5;&#x6709;&#x5DE8;&#x5927;&#x624B;&#x673A;&#x7684;&#x4EBA;&#x3002; &#x4ED6;&#x4EEC;&#x53EF;&#x80FD;&#x4F1A;&#x4EE5;&#x7EB5;&#x5411;&#x65B9;&#x5411;&#x67E5;&#x770B; <code>/invoices</code>&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x624B;&#x673A;&#x65CB;&#x8F6C;&#x81F3;&#x6A2A;&#x5411;&#x3002; &#x7A81;&#x7136;&#x4E4B;&#x95F4;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x7A7A;&#x95F4;&#x6765;&#x663E;&#x793A;&#x4E3B;-&#x4ECE;&#x5173;&#x7CFB;&#x7684; UI &#x754C;&#x9762;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x5E94;&#x8BE5;&#x7ACB;&#x5373;&#x91CD;&#x5B9A;&#x5411;&#xFF01;</p>\n<p>React Router &#x4EE5;&#x524D;&#x7248;&#x672C;&#x7684;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x5E76;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x7684;&#x53EF;&#x7EC4;&#x5408;&#x7684;&#x7B54;&#x6848;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x8DEF;&#x7531;&#x662F;&#x52A8;&#x6001;&#x7684;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x58F0;&#x660E;&#x6027;&#x5730;&#x7F16;&#x5199;&#x6B64;&#x529F;&#x80FD;&#x3002; &#x5982;&#x679C;&#x4F60;&#x5F00;&#x59CB;&#x8003;&#x8651;&#x7528;&#x8DEF;&#x7531;&#x4F5C;&#x4E3A; UI &#x754C;&#x9762;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9759;&#x6001;&#x914D;&#x7F6E;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x7684;&#x76F4;&#x89C9;&#x5C06;&#x4F1A;&#x5F15;&#x5BFC;&#x7ED9;&#x4F60;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AppLayout</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Invoices<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AppLayout</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">Invoices</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Layout</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span><span class="token comment">/* always show the nav */</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>InvoicesNav</span> <span class="token punctuation">/&gt;</span></span>\n\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Media</span> <span class="token attr-name">query</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>PRETTY_SMALL<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token punctuation">{</span>screenIsSmall <span class="token operator">=&gt;</span>\n        screenIsSmall <span class="token operator">?</span> <span class="token punctuation">(</span>\n          <span class="token comment">// small screen has no redirect</span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/dashboard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Dashboard<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Invoice<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n        <span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>\n          <span class="token comment">// large screen does!</span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/dashboard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Dashboard<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Invoice<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/invoices/dashboard<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n        <span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Media</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Layout</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>&#x5F53;&#x7528;&#x6237;&#x5C06;&#x7535;&#x8BDD;&#x4ECE;&#x7EB5;&#x5411;&#x65CB;&#x8F6C;&#x5230;&#x6A2A;&#x5411;&#x65F6;&#xFF0C;&#x6B64;&#x4EE3;&#x7801;&#x5C06;&#x81EA;&#x52A8;&#x5C06;&#x5176;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x4EEA;&#x8868;&#x677F;&#x3002;&#x6709;&#x6548;&#x8DEF;&#x7531;&#x7684;&#x96C6;&#x5408;&#x6839;&#x636E;&#x7528;&#x6237;&#x624B;&#x4E2D;&#x7684;&#x79FB;&#x52A8;&#x8BBE;&#x5907;&#x7684;&#x52A8;&#x6001;&#x7279;&#x6027;&#x800C;&#x6539;&#x53D8;&#x3002;</p>\n<p>&#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x3002;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x8BA8;&#x8BBA;&#x5176;&#x4ED6;&#x8BB8;&#x591A;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x5C06;&#x603B;&#x7ED3;&#x4E3A;&#x4EE5;&#x4E0B;&#x5EFA;&#x8BAE;:&#x4E3A;&#x4E86;&#x4F7F;&#x7684;&#x76F4;&#x89C9;&#x4E0E; React Router &#x4E00;&#x81F4;&#xFF0C;&#x8003;&#x8651;&#x4E00;&#x4E0B;&#x7EC4;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x3002;&#x8003;&#x8651;&#x5982;&#x4F55;&#x7528; React &#x7684;&#x58F0;&#x660E;&#x5F0F;&#x7EC4;&#x5408;&#x6765;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;&#x51E0;&#x4E4E;&#x6BCF;&#x4E2A; &#x201C;React Router &#x95EE;&#x9898;&#x201D; &#x90FD;&#x53EF;&#x80FD;&#x662F; &#x201C;React &#x95EE;&#x9898;&#x201D;&#x3002;</p>\n',headers:[{text:"静态路由",slug:""},{text:"背景故事",slug:""},{text:"动态路由",slug:""},{text:"嵌套路由",slug:""},{text:"响应式路线",slug:""}],title:{text:"Philosophy",slug:"philosophy"}}},493:function(n,a){n.exports={markup:'<h1 id="redux-integration"><a href="/core/guides/redux-integration" class="internal-link">Redux Integration</a></h1>\n<p>Redux &#x662F; React &#x751F;&#x6001;&#x7CFB;&#x7EDF;&#x7684;&#x91CD;&#x8981;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#x3002;&#x5BF9;&#x4E8E;&#x60F3;&#x8981;&#x540C;&#x65F6;&#x4F7F;&#x7528; React Router &#x548C;Redux &#x4E24;&#x8005;&#x7684;&#x4EBA;&#x6765;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x5C3D;&#x53EF;&#x80FD;&#x6D41;&#x7545;&#x7684;&#x5BF9;&#x4ED6;&#x4EEC;&#x8FDB;&#x884C;&#x6574;&#x5408;&#x3002;</p>\n<h2 id="redux-integration-blocked-updates"><a href="/core/guides/redux-integration/blocked-updates" class="internal-link">Blocked Updates</a></h2>\n<p>&#x901A;&#x5E38;&#xFF0C;React Router &#x548C; Redux &#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x7684;&#x534F;&#x540C;&#x5DE5;&#x4F5C;&#x3002;&#x5C3D;&#x7BA1;&#x6709;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x4E2A;&#x5728;&#x4F4D;&#x7F6E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x4E0D;&#x66F4;&#x65B0;&#x7684;&#x7EC4;&#x4EF6;&#xFF08;&#x5B50;&#x8DEF;&#x7531;&#x6216;&#x6D3B;&#x52A8;&#x5355;&#x884C;&#x94FE;&#x63A5;&#x4E0D;&#x66F4;&#x65B0;&#xFF09;&#x3002;</p>\n<p>&#x5982;&#x679C;&#x662F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;:</p>\n<ol>\n<li>&#x8BE5;&#x7EC4;&#x4EF6;&#x8FDE;&#x63A5;&#x5230; <code>connect()(Comp)</code>&#x3002;</li>\n<li>&#x7EC4;&#x4EF6;<strong>&#x4E0D;&#x662F;</strong> &#x201C;&#x8DEF;&#x7531;&#x7EC4;&#x4EF6;&#x201D;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5B83;&#x4E0D;&#x662F;&#x50CF;&#x8FD9;&#x6837;&#x6E32;&#x67D3;&#x7684;&#xFF1A; <code>&lt;Route component={SomeConnectedThing}/&gt;</code>&#x3002;</li>\n</ol>\n<p>&#x95EE;&#x9898;&#x662F;&#xFF0C; Redux &#x5B9E;&#x73B0;&#x4E86; <code>shouldComponentUpdate</code>&#xFF0C;&#x5E76;&#x4E14;&#x5982;&#x679C;&#x4ED6;&#x6CA1;&#x6709;&#x4ECE;&#x8DEF;&#x7531;&#x5668;&#x63A5;&#x6536;&#x5230;&#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6539;&#x53D8;&#x7684;&#x8FF9;&#x8C61;&#x3002;&#x8FD9;&#x5F88;&#x5BB9;&#x6613;&#x89E3;&#x51B3;&#x3002;&#x627E;&#x5230;&#x4F60; <code>connect</code>&#x5230;&#x4F60;&#x7684;&#x7EC4;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x7528; <code>withRouter</code>&#x5C06;&#x5176;&#x5305;&#x56F4;&#x8D77;&#x6765;&#x3002;</p>\n<pre><code class="language-js"><span class="token comment">// before</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>Something<span class="token punctuation">)</span>\n\n<span class="token comment">// after</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span><span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>Something<span class="token punctuation">)</span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="redux-integration-deep-integration"><a href="/core/guides/redux-integration/deep-integration" class="internal-link">Deep integration</a></h2>\n<p>&#x6709;&#x4E9B;&#x4EBA;&#x4EEC;&#x60F3;&#x8981;:</p>\n<ul>\n<li>&#x5C06;&#x8DEF;&#x7531;&#x6570;&#x636E;&#x4E0E;&#x5B58;&#x50A8;&#x540C;&#x6B65;&#xFF0C;&#x5E76;&#x4ECE;&#x5B58;&#x50A8;&#x8BBF;&#x95EE;&#x8DEF;&#x7531;&#x6570;&#x636E;</li>\n<li>&#x80FD;&#x591F;&#x901A;&#x8FC7;&#x8C03;&#x5EA6;&#x64CD;&#x4F5C;&#x6765;&#x5B9E;&#x73B0;&#x5BFC;&#x822A;</li>\n<li>&#x652F;&#x6301;Redux&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x4E2D;&#x8DEF;&#x7531;&#x66F4;&#x6539;&#x7684;&#x65F6;&#x95F4;&#x8FC1;&#x79FB;&#x8C03;&#x8BD5;</li>\n</ul>\n<p>&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x90FD;&#x9700;&#x8981;&#x66F4;&#x6DF1;&#x5C42;&#x6B21;&#x7684;&#x6574;&#x5408;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x79CD;&#x6DF1;&#x5EA6;&#x96C6;&#x6210;&#xFF1A;</p>\n<ul>\n<li>&#x8DEF;&#x7EBF;&#x66F4;&#x6539;&#x5BF9;&#x4E8E;&#x65F6;&#x95F4;&#x8FC1;&#x79FB;&#x8C03;&#x8BD5;&#x6765;&#x8BF4;&#x662F;&#x4E0D;&#x592A;&#x91CD;&#x8981;&#x7684;&#x3002;</li>\n<li>&#x4F60;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x63D0;&#x4F9B;&#x7ED9;&#x8DEF;&#x7531;&#x7EC4;&#x4EF6;&#x7684; <code>history</code> &#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x5728;&#x64CD;&#x4F5C;&#x4E2D;&#x4F7F;&#x7528;&#x5B83;&#x8FDB;&#x884C;&#x5BFC;&#x822A;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x8C03;&#x5EA6;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x5BFC;&#x822A;&#x3002;</li>\n<li>&#x8DEF;&#x7531;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x4F60;&#x5173;&#x5FC3;&#x7684;&#x5927;&#x591A;&#x6570;&#x7EC4;&#x4EF6;&#x7684;&#x652F;&#x67F1;&#xFF0C;&#x65E0;&#x8BBA;&#x662F;&#x6765;&#x81EA;&#x5B58;&#x50A8;&#x5E93;&#x8FD8;&#x662F;&#x8DEF;&#x7531;&#x5668;&#x90FD;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x7EC4;&#x4EF6;&#x7684;&#x4EE3;&#x7801;&#x3002;</li>\n</ul>\n<p>&#x4F46;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x6709;&#x4E9B;&#x4EBA;&#x5BF9;&#x6B64;&#x6709;&#x5F3A;&#x70C8;&#x7684;&#x611F;&#x53D7;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5C3D;&#x53EF;&#x80FD;&#x63D0;&#x4F9B;&#x6700;&#x597D;&#x7684;&#x6DF1;&#x5EA6;&#x96C6;&#x6210;&#x3002;&#x622A;&#x81F3;React Router&#x7684;&#x7B2C;4&#x7248;&#xFF0C;Redux&#x5305;&#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x4E86;&#x8BE5;&#x9879;&#x76EE;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;&#x6709;&#x5173;&#x6DF1;&#x5EA6;&#x96C6;&#x6210;&#xFF0C;&#x8BF7;&#x53C2;&#x8003;&#x5B83;</p>\n<p><a href="https://github.com/reacttraining/react-router/tree/master/packages/react-router-redux">React Router Redux</a></p>\n',headers:[{text:"Blocked Updates",slug:"blocked-updates"},{text:"Deep integration",slug:"deep-integration"}],title:{text:"Redux Integration",slug:"redux-integration"}}},494:function(n,a){n.exports={markup:'<h1 id="dealing-with-update-blocking"><a href="/core/guides/dealing-with-update-blocking" class="internal-link">Dealing with Update Blocking</a></h1>\n<p>React Router &#x6709;&#x8BB8;&#x591A;&#x4F4D;&#x7F6E;&#x611F;&#x77E5;&#x7EC4;&#x4EF6;&#xFF0C;&#x5B83;&#x4EEC;&#x4F7F;&#x7528;&#x5F53;&#x524D; <code>location</code> &#x5BF9;&#x8C61;&#x6765;&#x786E;&#x5B9A;&#x5B83;&#x4EEC;&#x6E32;&#x67D3;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F7F;&#x7528; React &#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x6A21;&#x578B;&#x5C06;&#x5F53;&#x524D; <code>location</code> &#x9690;&#x5F0F;&#x4F20;&#x9012;&#x7ED9;&#x7EC4;&#x4EF6;&#x3002;&#x5F53; location &#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x7EC4;&#x4EF6;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x7684;&#x65B0; <code>location</code> &#x5BF9;&#x8C61;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;</p>\n<p>React &#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x6765;&#x4F18;&#x5316;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6E32;&#x67D3;&#x6027;&#x80FD;&#xFF1A; <code>shouldComponentUpdate</code> &#x751F;&#x547D;&#x5468;&#x671F;&#x65B9;&#x6CD5;&#x548C; <code>PureComponent</code>&#x3002;&#x9664;&#x975E;&#x6EE1;&#x8DB3;&#x6B63;&#x786E;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x5426;&#x5219;&#x4ED6;&#x4EEC;&#x90FD;&#x4F1A;&#x963B;&#x6B62;&#x7EC4;&#x4EF6;&#x7684;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x7684;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x88AB;&#x963B;&#x6B62;&#x7684;&#x8BDD;&#xFF0C; React Router &#x7684; location-aware &#x7EC4;&#x4EF6;&#x53EF;&#x80FD;&#x4F1A;&#x4E0E;&#x5F53;&#x524D;&#x7684; location &#x4E0D;&#x540C;&#x6B65;&#x3002;</p>\n<h3>&#x95EE;&#x9898;&#x7684;&#x4F8B;&#x5B50;</h3>\n<p>&#x6211;&#x4EEC;&#x4ECE;&#x4E00;&#x4E2A;&#x963B;&#x6B62;&#x66F4;&#x65B0;&#x7684;&#x7EC4;&#x4EF6;&#x5F00;&#x59CB;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">UpdateBlocker</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>&#x5F53; <code>&lt;UpdateBlocker&gt;</code> &#x6302;&#x8F7D;&#x65F6;&#xFF0C;&#x4EFB;&#x4F55; location-aware &#x5B50;&#x7EC4;&#x4EF6;&#x90FD;&#x5C06;&#x4F7F;&#x7528;&#x5F53;&#x524D; <code>location</code> &#x5E76; <code>match</code> &#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x5448;&#x73B0;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token comment">// location = { pathname: &apos;/about&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">// &lt;a href=&quot;/about&quot; class=&quot;active&quot;&gt;</span>\n    About\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/faq<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>F<span class="token punctuation">.</span>A<span class="token punctuation">.</span>Q<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">// &lt;a href=&quot;/faq&quot;&gt;F.A.Q.&lt;/a&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x5F53; location &#x6539;&#x53D8;&#x65F6;&#xFF0C;<code>&lt;UpdateBlocker&gt;</code> &#x4E0D;&#x68C0;&#x6D4B;&#x4EFB;&#x4F55; prop &#x6216; state &#x6539;&#x53D8;&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x5B50;&#x7EC4;&#x4EF6;&#x4E0D;&#x4F1A;&#x88AB;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token comment">// location = { pathname: &apos;/faq&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">// the links will not re-render, so they retain their previous attributes</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">//{&quot; &quot;}</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n    About\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/faq<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>F<span class="token punctuation">.</span>A<span class="token punctuation">.</span>Q<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">// &lt;a href=&quot;/faq&quot;&gt;F.A.Q.&lt;/a&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h3><code>shouldComponentUpdate</code></h3>\n<p>&#x4E3A;&#x4E86;&#x4F7F;&#x5B9E;&#x73B0; <code>shouldComponentUpdate</code> &#x7684;&#x7EC4;&#x4EF6;&#x77E5;&#x9053;&#x5B83;&#x5E94;&#x8BE5;&#x5728; location &#x66F4;&#x6539;&#x65F6;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#xFF0C;&#x5B83;&#x7684; <code>shouldComponentUpdate</code> &#x65B9;&#x6CD5;&#x9700;&#x8981;&#x80FD;&#x591F;&#x68C0;&#x6D4B; location &#x66F4;&#x6539;&#x3002;</p>\n<p>&#x5982;&#x679C;&#x4F60;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E86; <code>shouldComponentUpdate</code> &#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6BD4;&#x8F83;&#x5F53;&#x524D;&#x548C;&#x4E0B;&#x4E00;&#x4E2A; <code>context.router</code> &#x5BF9;&#x8C61;&#x7684; location &#x3002;&#x4F46;&#x662F;&#xFF0C;&#x4F5C;&#x4E3A;&#x7528;&#x6237;&#xFF0C;&#x4F60;&#x4E0D;&#x5E94;&#x8BE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x3002; &#x76F8;&#x53CD;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x89E6;&#x53CA;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x6BD4;&#x8F83;&#x5F53;&#x524D;&#x5730;&#x5740;&#x548C;&#x4E0B;&#x4E00;&#x4E2A; <code>location</code> &#xFF0C;&#x8FD9;&#x5C06;&#x662F;&#x7406;&#x60F3;&#x7684;&#x3002;</p>\n<h4>&#x7B2C;&#x4E09;&#x65B9;&#x4EE3;&#x7801;</h4>\n<p>&#x5C3D;&#x7BA1;&#x4F60;&#x81EA;&#x5DF1;&#x6CA1;&#x6709;&#x8C03;&#x7528; <code>shouldComponentUpdate</code> &#xFF0C;&#x4F46;&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230;&#x7EC4;&#x4EF6;&#x5728; location &#x66F4;&#x65B0;&#x540E;&#x6CA1;&#x6709;&#x66F4;&#x65B0;&#x95EE;&#x9898;&#x3002;&#x8FD9;&#x5F88;&#x53EF;&#x80FD;&#x662F;&#x56E0;&#x4E3A; <code>shouldComponentUpdate</code> &#x88AB;&#x7B2C;&#x4E09;&#x65B9;&#x4EE3;&#x7801;&#x8C03;&#x7528;&#xFF0C;&#x6BD4;&#x5982; <code>react-redux</code> &#x7684; <code>connect</code> &#x548C; <code>mobx-react</code> &#x7684; <code>observer</code>&#x3002;</p>\n<pre><code class="language-js"><span class="token comment">// react-redux</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// mobx-react</span>\n<span class="token keyword">const</span> MyObservedComponent <span class="token operator">=</span> <span class="token function">observer</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p>&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x4EE3;&#x7801;&#xFF0C;&#x4F60;&#x751A;&#x81F3;&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x63A7;&#x5236; <code>shouldComponentUpdate</code> &#x7684;&#x5B9E;&#x73B0;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x6784;&#x9020;&#x4EE3;&#x7801;&#x4EE5;&#x4F7F;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x7684;&#x5730;&#x5740;&#x53D8;&#x5F97;&#x660E;&#x663E;&#x3002;</p>\n<p><code>connect</code> &#x548C; <code>observer</code> &#x90FD;&#x8981;&#x521B;&#x5EFA;&#x7EC4;&#x4EF6;&#xFF0C;&#x5B83;&#x4EEC;&#x7684; <code>shouldComponentUpdate</code> &#x65B9;&#x6CD5;&#x5BF9;&#x5B83;&#x4EEC;&#x5F53;&#x524D;&#x7684; <code>props</code> &#x548C;&#x5176;&#x4E0B;&#x4E00;&#x4E2A; <code>props</code> &#x8FDB;&#x884C;&#x6D45;&#x5C42;&#x6BD4;&#x8F83;&#x3002;&#x8FD9;&#x4E9B;&#x7EC4;&#x4EF6;&#x53EA;&#x6709;&#x5728;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#x65F6;&#x624D;&#x4F1A;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4E3A;&#x4E86;&#x786E;&#x4FDD;&#x4ED6;&#x4EEC;&#x5728; location &#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#xFF0C;&#x4ED6;&#x4EEC;&#x9700;&#x8981;&#x5728; location &#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x83B7;&#x5F97;&#x66F4;&#x6539;&#x7684;&#x5C5E;&#x6027;&#x3002;</p>\n<h3><code>PureComponent</code></h3>\n<p>React &#x7684; <code>PureComponent</code> &#x6CA1;&#x6709;&#x5B9E;&#x73B0; <code>shouldComponentUpdate</code>&#xFF0C;&#x4F46;&#x5B83;&#x91C7;&#x53D6;&#x4E86;&#x7C7B;&#x4F3C;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x9632;&#x6B62;&#x66F4;&#x65B0;&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x201C;&#x7EAF;&#x201D;&#x7EC4;&#x4EF6;&#x66F4;&#x65B0;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x5BF9;&#x5176;&#x5F53;&#x524D;&#x7684; <code>props</code> &#x548C; <code>state</code> &#x4E0E;&#x4E0B;&#x4E00;&#x4E2A; <code>props</code> &#x548C; <code>state</code> &#x8FDB;&#x884C;&#x6D45;&#x5C42;&#x6BD4;&#x8F83;&#x3002;&#x5982;&#x679C;&#x6BD4;&#x8F83;&#x6CA1;&#x6709;&#x68C0;&#x6D4B;&#x5230;&#x4EFB;&#x4F55;&#x5DEE;&#x5F02;&#xFF0C;&#x5219;&#x7EC4;&#x4EF6;&#x4E0D;&#x4F1A;&#x66F4;&#x65B0;&#x3002;&#x4E0E; <code>shouldComponentUpdate</code> &#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4E3A;&#x4E86;&#x5728;&#x5730;&#x5740;&#x66F4;&#x6539;&#x65F6;&#x5F3A;&#x5236;&#x66F4;&#x65B0;&#x201C;&#x7EAF;&#x201D;&#x7EC4;&#x4EF6;&#xFF0C;&#x5B83;&#x9700;&#x8981;&#x5177;&#x6709;&#x5DF2;&#x66F4;&#x6539;&#x7684;&#x5C5E;&#x6027;&#x6216;&#x72B6;&#x6001;&#x3002;</p>\n<h3>&#x89E3;&#x51B3;&#x65B9;&#x6848;</h3>\n<h4>&#x5FEB;&#x901F;&#x89E3;&#x51B3;&#x65B9;&#x6848;</h4>\n<p>&#x5982;&#x679C;&#x60A8;&#x5728;&#x4F7F;&#x7528;&#x9AD8;&#x7EA7;&#x7EC4;&#x4EF6; <code>connect</code>&#xFF08;&#x5982; react-redux &#xFF09;&#x6216; <code>observer</code> &#xFF08;&#x6765;&#x81EA; Mobx &#xFF09;&#x65F6;&#x9047;&#x5230;&#x6B64;&#x95EE;&#x9898;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5;&#x7EC4;&#x4EF6;&#x5305;&#x88C5;&#x5728; withRouter &#x4E2D;&#x4EE5;&#x5220;&#x9664;&#x88AB;&#x963B;&#x585E;&#x7684;&#x66F4;&#x65B0;&#x3002;</p>\n<pre><code class="language-javascript"><span class="token comment">// redux before</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// redux after</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span><span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// mobx before</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">observer</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// mobx after</span>\n<span class="token keyword">const</span> MyConnectedComponent <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span><span class="token function">observer</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<p><strong>&#x8FD9;&#x4E0D;&#x662F;&#x6700;&#x6709;&#x6548;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;</strong>, &#x4F46;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x88AB;&#x963B;&#x585E;&#x7684;&#x66F4;&#x65B0;&#x95EE;&#x9898;&#x3002;&#x6709;&#x5173;&#x6B64;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x7684;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x9605;&#x8BFB; <a href="https://github.com/ReactTraining/react-router/pull/5552#issuecomment-331502281">this thread</a>&#x3002;</p>\n<h4>&#x63A8;&#x8350;&#x89E3;&#x51B3;&#x65B9;&#x6848;</h4>\n<p>&#x5EFA;&#x8BAE;&#x5728; location &#x66F4;&#x6539;&#x540E;&#x907F;&#x514D;&#x91CD;&#x65B0;&#x5448;&#x73B0;&#x88AB;&#x963B;&#x585E;&#x7684;&#x5173;&#x952E;&#x662F;&#x5C06;&#x963B;&#x585E;&#x7EC4;&#x4EF6;&#x4F20;&#x9012;&#x7ED9;&#x5730;&#x5740; <code>location</code> &#x4F5C;&#x4E3A;&#x5C5E;&#x6027;&#x3002;&#x53EA;&#x8981; location &#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5C31;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;&#x56E0;&#x6B64;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#x53EF;&#x4EE5;&#x68C0;&#x6D4B;&#x5230;&#x5F53;&#x524D;&#x5730;&#x5740;&#x548C;&#x4E0B;&#x4E00;&#x4E2A; location &#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token comment">// location = { pathname: &apos;/about&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UpdateBlocker</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">// &lt;a href=&apos;/about&apos; class=&apos;active&apos;&gt;About&lt;/a&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/faq<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>F<span class="token punctuation">.</span>A<span class="token punctuation">.</span>Q<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">// &lt;a href=&apos;/faq&apos;&gt;F.A.Q.&lt;/a&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token comment">// location = { pathname: &apos;/faq&apos; }</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UpdateBlocker</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/about<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">// &lt;a href=&apos;/about&apos;&gt;About&lt;/a&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/faq<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span>F<span class="token punctuation">.</span>A<span class="token punctuation">.</span>Q<span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">// &lt;a href=&apos;/faq&apos; class=&apos;active&apos;&gt;F.A.Q.&lt;/a&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UpdateBlocker</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h4>&#x83B7;&#x53D6;&#x5730;&#x5740;</h4>\n<p>&#x4E3A;&#x4E86;&#x5C06;&#x5F53;&#x524D; <code>location</code> &#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x5C5E;&#x6027;&#x4F20;&#x9012;&#x7ED9;&#x7EC4;&#x4EF6;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x6709;&#x6743;&#x8BBF;&#x95EE;&#x5B83;&#x3002;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE; <code>location</code> &#x7684;&#x4E3B;&#x8981;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A; <code>&lt;Route&gt;</code> &#x7EC4;&#x4EF6;&#x3002;&#x5F53; <code>&lt;Route&gt;</code> &#x5339;&#x914D;&#x65F6;&#xFF08;&#x6216;&#x8005;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684;&#x662F; <code>children</code> &#x5C5E;&#x6027;&#xFF09;&#xFF0C;&#x5B83;&#x4F1A;&#x5C06;&#x5F53;&#x524D; <code>location</code> &#x4F20;&#x9012;&#x7ED9;&#x5B83;&#x6E32;&#x67D3;&#x7684;&#x5B50;&#x5143;&#x7D20;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/here<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Here<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token keyword">const</span> <span class="token function-variable function">Here</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// props.location = { pathname: &apos;/here&apos;, ... }</span>\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>You are here<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">}</span>\n\n<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&apos;/there&apos;</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// props.location = { pathname: &apos;/there&apos;, ... }</span>\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>You are there<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n\n<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&apos;/everywhere&apos;</span> children<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// props.location = { pathname: &apos;/everywhere&apos;, ... }</span>\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>You are everywhere<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n</code></pre>\n<p>&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x963B;&#x6B62;&#x66F4;&#x65B0;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x65B9;&#x5F0F;&#x8F7B;&#x677E;&#x5730;&#x628A; <code>location</code> &#x4F5C;&#x4E3A;&#x5C5E;&#x6027;&#x4F20;&#x9012;&#x7ED9;&#x5B83;&#xFF1A;</p>\n<pre><code class="language-jsx"><span class="token comment">// the Blocker is a &quot;pure&quot; component, so it will only</span>\n<span class="token comment">// update when it receives new props</span>\n<span class="token keyword">class</span> <span class="token class-name">Blocker</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/oz<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Oz<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/kansas<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Kansas<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<ol>\n<li>&#x7531; <code>&lt;Route&gt;</code> &#x76F4;&#x63A5;&#x6E32;&#x67D3;&#x7684;&#x7EC4;&#x4EF6;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x66F4;&#x65B0;&#x53D7;&#x963B;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x5C06; <code>location</code> &#x6CE8;&#x5165;&#x4E3A;&#x5C5E;&#x6027;&#x3002;</li>\n</ol>\n<pre><code class="language-jsx"><span class="token comment">// The &lt;Blocker&gt;&apos;s location prop will change whenever</span>\n<span class="token comment">// the location changes</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/:place<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Blocker<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<ol start="2">\n<li>&#x76F4;&#x63A5;&#x7531; <code>&lt;Route&gt;</code> &#x6E32;&#x67D3;&#x7684;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x5C06;&#x8BE5; location &#x5C5E;&#x6027;&#x4F20;&#x9012;&#x7ED9;&#x5B83;&#x521B;&#x5EFA;&#x7684;&#x4EFB;&#x4F55;&#x5B50;&#x5143;&#x7D20;&#x3002;</li>\n</ol>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/parent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Parent<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">Parent</span> <span class="token operator">=</span> props <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token comment">// &lt;Parent&gt; receives the location as a prop. Any child</span>\n  <span class="token comment">// element it creates can be passed the location.</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Blocker</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>location<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre>\n<p>&#x5F53;&#x7EC4;&#x4EF6;&#x672A;&#x88AB; <code>&lt;Route&gt;</code> &#x6E32;&#x67D3;&#x65F6;&#xFF0C;&#x4EE5;&#x53CA;&#x7EC4;&#x4EF6;&#x5728;&#x5176;&#x53D8;&#x91CF;&#x8303;&#x56F4;&#x5185;&#x6CA1;&#x6709; <code>location</code> &#x65F6;&#x4F1A;&#x53D1;&#x751F;&#x4EC0;&#x4E48;&#xFF1F;&#x4F60;&#x53EF;&#x4EE5;&#x91C7;&#x53D6;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x5C06; <code>location</code> &#x81EA;&#x52A8;&#x6CE8;&#x5165;&#x7EC4;&#x4EF6;&#x4E2D;&#x3002;</p>\n<ol>\n<li>&#x6E32;&#x67D3;&#x6CA1;&#x6709;&#x8DEF;&#x5F84;&#x7684; <code>&lt;Route&gt;</code>&#x3002; &#x867D;&#x7136; <code>&lt;Route&gt;</code> &#x901A;&#x5E38;&#x7528;&#x4E8E;&#x5339;&#x914D;&#x7279;&#x5B9A;&#x8DEF;&#x5F84;&#xFF0C;&#x4F46;&#x6CA1;&#x6709;&#x8DEF;&#x5F84;&#x7684; <code>&lt;Route&gt;</code> &#x5C06;&#x59CB;&#x7EC8;&#x5339;&#x914D;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x5C06;&#x59CB;&#x7EC8;&#x6E32;&#x67D3;&#x5176;&#x7EC4;&#x4EF6;&#x3002;</li>\n</ol>\n<pre><code class="language-jsx"><span class="token comment">// pathless &lt;Route&gt; = &lt;Blocker&gt; will always be rendered</span>\n<span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Blocker<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n<ol start="2">\n<li>&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>withRouter</code> &#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#x5305;&#x88F9;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x5E76;&#x5B83;&#x5C06;&#x88AB;&#x8D4B;&#x4E88;&#x5F53;&#x524D;&#x7684; <code>location</code> &#x4F5C;&#x4E3A;&#x5176;&#x5C5E;&#x6027;&#x4E4B;&#x4E00;&#x3002;</li>\n</ol>\n<pre><code class="language-jsx"><span class="token comment">// internally, withRouter just renders a pathless &lt;Route&gt;</span>\n<span class="token keyword">const</span> BlockAvoider <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>Blocker<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">MyComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BlockAvoider</span> <span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SomeComponent</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n',headers:[],title:{text:"Dealing with Update Blocking",slug:"dealing-with-update-blocking"}}},495:function(n,a){n.exports={markup:'<h1 id="static-routes"><a href="/core/guides/static-routes" class="internal-link">Static Routes</a></h1>\n<p>&#x4EE5;&#x524D;&#x7248;&#x672C;&#x7684; React Router &#x4F7F;&#x7528;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x6765;&#x914D;&#x7F6E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x8DEF;&#x7531;&#x9009;&#x62E9;&#x3002;&#x5B83;&#x5141;&#x8BB8;&#x5728;&#x6E32;&#x67D3;&#x4E4B;&#x524D;&#x5BF9;&#x8DEF;&#x7531;&#x8FDB;&#x884C;&#x68C0;&#x67E5;&#x548C;&#x5339;&#x914D;&#x3002;&#x7531;&#x4E8E;&#x7248;&#x672C;4&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x7EC4;&#x4EF6;&#x4EE3;&#x66FF;&#x8DEF;&#x5F84;&#x914D;&#x7F6E;&#xFF0C;&#x4EE5;&#x524D;&#x7684;&#x4E00;&#x4E9B;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x53D8;&#x5F97;&#x4E0D;&#x592A;&#x660E;&#x663E;&#x548C;&#x68D8;&#x624B;&#x3002;</p>\n<p>&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x5305;&#x6765;&#x5904;&#x7406;&#x9759;&#x6001;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x548C; React Router&#xFF0C;&#x6765;&#x7EE7;&#x7EED;&#x6EE1;&#x8DB3;&#x90A3;&#x4E9B;&#x4F7F;&#x7528;&#x6848;&#x4F8B;&#x3002;&#x5B83;&#x76EE;&#x524D;&#x6B63;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x4F60;&#x80FD;&#x8BD5;&#x7528;&#x4E00;&#x4E0B;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x5E2E;&#x52A9;&#x3002;</p>\n<p><a href="https://github.com/reacttraining/react-router/tree/master/packages/react-router-config">React Router Config</a></p>\n',headers:[],title:{text:"Static Routes",slug:"static-routes"}}},617:function(n,a){n.exports={markup:'<h1 id="MemoryRouter"><a href="/core/api/MemoryRouter" class="internal-link">&lt;MemoryRouter&gt;</a></h1>\n<p><a href="Router.md"><code>&lt;Router&gt;</code></a> &#x80FD;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x4FDD;&#x5B58;&#x4F60;&#x7684; &#x201C;URL&#x201D; &#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;(&#x5E76;&#x4E0D;&#x4F1A;&#x5BF9;&#x5730;&#x5740;&#x680F;&#x8FDB;&#x884C;&#x8BFB;&#x5199;)&#x3002;&#x5F88;&#x9002;&#x5408;&#x5728;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x548C;&#x975E;&#x6D4F;&#x89C8;&#x5668;&#x73AF;&#x5883;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x4F8B;&#x5982; <a href="https://facebook.github.io/react-native/">React Native</a>&#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> MemoryRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="MemoryRouter-initialentries-array"><a href="/core/api/MemoryRouter/initialentries-array" class="internal-link">initialEntries: array</a></h2>\n<p>history &#x6808;&#x4E2D;&#x7684;&#x4E00;&#x4E2A; <code>location</code> &#x6570;&#x7EC4;&#x3002;&#x8FD9;&#x4E9B;&#x53EF;&#x80FD;&#x662F;&#x5177;&#x6709; <code>{ pathname, search, hash, state }</code> &#x6216;&#x7B80;&#x5355;&#x7684; URL &#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5B8C;&#x6574;&#x5730;&#x5740;&#x5BF9;&#x8C61;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token operator">&lt;</span>MemoryRouter\n  initialEntries<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span> <span class="token string">&apos;/one&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;/two&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">&apos;/three&apos;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">}</span>\n  initialIndex<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span>\n<span class="token operator">&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="MemoryRouter-initialindex-number"><a href="/core/api/MemoryRouter/initialindex-number" class="internal-link">initialIndex: number</a></h2>\n<p>&#x5728; <code>initialEntries</code> &#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x521D;&#x59CB;&#x5316;&#x5730;&#x5740;&#x7D22;&#x5F15;&#x3002;</p>\n<h2 id="MemoryRouter-getuserconfirmation-func"><a href="/core/api/MemoryRouter/getuserconfirmation-func" class="internal-link">getUserConfirmation: func</a></h2>\n<p>&#x7528;&#x4E8E;&#x786E;&#x8BA4;&#x5BFC;&#x822A;&#x7684;&#x51FD;&#x6570;&#x3002;&#x5728;&#x4F7F;&#x7528; <code>&lt;MemoryRouter&gt;</code> &#x65F6;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <code>&lt;Prompt&gt;</code>&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x3002;</p>\n<h2 id="MemoryRouter-keylength-number"><a href="/core/api/MemoryRouter/keylength-number" class="internal-link">keyLength: number</a></h2>\n<p><code>location.key</code> &#x7684;&#x957F;&#x5EA6;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; 6&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span> <span class="token attr-name">keyLength</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="MemoryRouter-children-node"><a href="/core/api/MemoryRouter/children-node" class="internal-link">children: node</a></h2>\n<p>&#x6E32;&#x67D3;&#x4E00;&#x4E2A; <a href="https://facebook.github.io/react/docs/react-api.html#react.children.only">&#x5355;&#x72EC;&#x5B50;&#x5143;&#x7D20;</a>&#x3002;</p>\n',headers:[{text:"initialEntries: array",slug:"initialentries-array"},{text:"initialIndex: number",slug:"initialindex-number"},{text:"getUserConfirmation: func",slug:"getuserconfirmation-func"},{text:"keyLength: number",slug:"keylength-number"},{text:"children: node",slug:"children-node"}],title:{text:"<MemoryRouter>",slug:"MemoryRouter"}}},618:function(n,a){n.exports={markup:'<h1 id="Prompt"><a href="/core/api/Prompt" class="internal-link">&lt;Prompt&gt;</a></h1>\n<p>&#x7528;&#x4E8E;&#x5728;&#x7528;&#x6237;&#x79BB;&#x5F00;&#x9875;&#x9762;&#x4E4B;&#x524D;&#x53CA;&#x65F6;&#x63D0;&#x793A;&#x7528;&#x6237;&#x3002;&#x5F53;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FDB;&#x5165;&#x5E94;&#x963B;&#x6B62;&#x7528;&#x6237;&#x79BB;&#x5F00;&#x7684;&#x72B6;&#x6001;&#x65F6;&#xFF08;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x8868;&#x683C;&#x88AB;&#x586B;&#x6EE1;&#x4E86;&#x4E00;&#x534A;&#xFF09;&#xFF0C;&#x6E32;&#x67D3;&#x4E00;&#x4E2A; <code>&lt;Prompt&gt;</code> &#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Prompt <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Prompt</span>\n  <span class="token attr-name">when</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>formIsHalfFilledOut<span class="token punctuation">}</span></span>\n  <span class="token attr-name">message</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Are you sure you want to leave?<span class="token punctuation">&quot;</span></span>\n<span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Prompt-message-string"><a href="/core/api/Prompt/message-string" class="internal-link">message: string</a></h2>\n<p>&#x5F53;&#x7528;&#x6237;&#x8BD5;&#x56FE;&#x79BB;&#x5F00;&#x65F6;&#x63D0;&#x793A;&#x7528;&#x6237;&#x7684;&#x6D88;&#x606F;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Prompt</span> <span class="token attr-name">message</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Are you sure you want to leave?<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Prompt-message-func"><a href="/core/api/Prompt/message-func" class="internal-link">message: func</a></h2>\n<p>&#x5C06;&#x7528;&#x6237;&#x8BD5;&#x56FE;&#x524D;&#x5F80;&#x5230;&#x7684;&#x4E0B;&#x4E00;&#x4E2A; <code>Location</code> &#x548C; <code>action</code> &#x8C03;&#x7528;&#x3002;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4EE5;&#x5411;&#x7528;&#x6237;&#x663E;&#x793A;&#x63D0;&#x793A;&#x7B26;&#xFF0C;&#x6216;&#x8FD4;&#x56DE; <code>true</code> &#x4EE5;&#x5141;&#x8BB8;&#x8F6C;&#x6362;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token operator">&lt;</span>Prompt message<span class="token operator">=</span><span class="token punctuation">{</span>location <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  location<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&apos;/app&apos;</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`Are you sure you want to go to </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>location<span class="token punctuation">.</span>pathname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?`</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n</code></pre>\n<h2 id="Prompt-when-bool"><a href="/core/api/Prompt/when-bool" class="internal-link">when: bool</a></h2>\n<p>&#x4F60;&#x53EF;&#x4EE5;&#x4E00;&#x76F4;&#x6E32;&#x67D3;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x8B66;&#x793A;&#x6846;&#x51FA;&#x73B0;&#x4E4B;&#x540E;&#x624D;&#x6E32;&#x67D3;&#x4E00;&#x4E2A; <code>&lt;Prompt&gt;</code> &#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>when={true}</code> &#x6216; <code>when={false}</code> &#x6765;&#x963B;&#x6B62;&#x6216;&#x5141;&#x8BB8;&#x76F8;&#x5E94;&#x7684;&#x5BFC;&#x822A;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Prompt</span> <span class="token attr-name">when</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>formIsHalfFilledOut<span class="token punctuation">}</span></span> <span class="token attr-name">message</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Are you sure?<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n',headers:[{text:"message: string",slug:"message-string"},{text:"message: func",slug:"message-func"},{text:"when: bool",slug:"when-bool"}],title:{text:"<Prompt>",slug:"Prompt"}}},619:function(n,a){n.exports={markup:'<h1 id="Redirect"><a href="/core/api/Redirect" class="internal-link">&lt;Redirect&gt;</a></h1>\n<p>&#x6E32;&#x67D3; <code>&lt;Redirect&gt;</code> &#x5C06;&#x4F7F;&#x5BFC;&#x822A;&#x5230;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5730;&#x5740;&#x3002;&#x8FD9;&#x4E2A;&#x65B0;&#x7684;&#x5730;&#x5740;&#x4F1A;&#x8986;&#x76D6; history &#x6808;&#x4E2D;&#x7684;&#x5F53;&#x524D;&#x5730;&#x5740;&#xFF0C;&#x7C7B;&#x4F3C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#xFF08;HTTP 3xx&#xFF09;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> Redirect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  loggedIn <span class="token operator">?</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PublicHomePage</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Redirect-to-string"><a href="/core/api/Redirect/to-string" class="internal-link">to: string</a></h2>\n<p>&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x7684; URL&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55; <a href="https://www.npmjs.com/package/path-to-regexp"><code>path-to-regexp</code></a> &#x80FD;&#x591F;&#x7406;&#x89E3;&#x6709;&#x6548; URL &#x8DEF;&#x5F84;&#x3002;&#x5728; <code>to</code> &#x4E2D;&#x4F7F;&#x7528;&#x7684; URL &#x53C2;&#x6570;&#x5FC5;&#x987B;&#x7531; <code>from</code> &#x8986;&#x76D6;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere/else<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Redirect-to-object"><a href="/core/api/Redirect/to-object" class="internal-link">to: object</a></h2>\n<p>&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x7684; location&#xFF0C;<code>pathname</code> &#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55; <a href="https://www.npmjs.com/package/path-to-regexp"><code>path-to-regexp</code></a> &#x80FD;&#x591F;&#x7406;&#x89E3;&#x7684;&#x6709;&#x6548;&#x7684; URL &#x8DEF;&#x5F84;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n  pathname<span class="token punctuation">:</span> <span class="token string">&apos;/login&apos;</span><span class="token punctuation">,</span>\n  search<span class="token punctuation">:</span> <span class="token string">&apos;?utm=your+face&apos;</span><span class="token punctuation">,</span>\n  state<span class="token punctuation">:</span> <span class="token punctuation">{</span> referrer<span class="token punctuation">:</span> currentLocation <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n</code></pre>\n<p>The <code>state</code> object can be accessed via <code>this.props.location.state</code> in the redirected-to component. This new <code>referrer</code> key (which is not a special name) would then be accessed via <code>this.props.location.state.referrer</code> in the <code>Login</code> component pointed to by the pathname <code>&apos;/login&apos;</code></p>\n<h2 id="Redirect-push-bool"><a href="/core/api/Redirect/push-bool" class="internal-link">push: bool</a></h2>\n<p>&#x5F53; <code>true</code> &#x65F6;&#xFF0C;&#x91CD;&#x5B9A;&#x5411;&#x4F1A;&#x5C06;&#x65B0;&#x5730;&#x5740;&#x63A8;&#x5165; history &#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x66FF;&#x6362;&#x5F53;&#x524D;&#x5730;&#x5740;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">push</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere/else<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Redirect-from-string"><a href="/core/api/Redirect/from-string" class="internal-link">from: string</a></h2>\n<p>&#x91CD;&#x5B9A;&#x5411; from &#x7684;&#x8DEF;&#x5F84;&#x540D;&#x3002;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55; <a href="https://www.npmjs.com/package/path-to-regexp"><code>path-to-regexp</code></a> &#x80FD;&#x591F;&#x8BC6;&#x522B;&#x7684;&#x6709;&#x6548;&#x7684; URL &#x8DEF;&#x5F84;&#x3002;\n&#x6240;&#x6709;&#x5339;&#x914D;&#x7684; URL &#x53C2;&#x6570;&#x90FD;&#x63D0;&#x4F9B;&#x7ED9; <code>to</code> &#x4E2D;&#x7684;&#x6A21;&#x5F0F;&#x3002;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x5728; <code>to</code> &#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;&#x3002; <code>to</code> &#x672A;&#x4F7F;&#x7528;&#x7684;&#x5176;&#x4ED6;&#x53C2;&#x6570;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#x3002;</p>\n<p>&#x8FD9;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x5728; <code>&lt;Redirect&gt;</code> &#x5185;&#x90E8;&#x6E32;&#x67D3; <code>&lt;Switch&gt;</code> &#x65F6;&#x5339;&#x914D;&#x5730;&#x5740;&#x3002;&#x6709;&#x5173;&#x66F4;&#x591A;&#x8BE6;&#x60C5;&#xFF0C;&#x8BF7;&#x67E5;&#x9605;&#x53C2;&#x9605; <a href="/core/api/Switch/children-node" class="internal-link"><code>&lt;Switch children&gt;</code></a>&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/old-path<span class="token punctuation">&apos;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/new-path<span class="token punctuation">&apos;</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/new-path<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Place<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<pre><code class="language-jsx"><span class="token comment">// Redirect with matched parameters</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/users/:id<span class="token punctuation">&apos;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/users/profile/:id<span class="token punctuation">&apos;</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>/users/profile/:id<span class="token punctuation">&apos;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Profile<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Redirect-exact-bool"><a href="/core/api/Redirect/exact-bool" class="internal-link">exact: bool</a></h2>\n<p>&#x5B8C;&#x5168;&#x5339;&#x914D; <code>from</code>&#xFF1B;&#x76F8;&#x5F53;&#x4E8E; <a href="/core/api/Route/exact-bool" class="internal-link">Route.exact</a>&#x3002;</p>\n<h2 id="Redirect-strict-bool"><a href="/core/api/Redirect/strict-bool" class="internal-link">strict: bool</a></h2>\n<p>&#x4E25;&#x683C;&#x5339;&#x914D;  <code>from</code>&#xFF1B;&#x76F8;&#x5F53;&#x4E8E; <a href="/core/api/Route/strict-bool" class="internal-link">Route.strict</a>&#x3002;</p>\n',headers:[{text:"to: string",slug:"to-string"},{text:"to: object",slug:"to-object"},{text:"push: bool",slug:"push-bool"},{text:"from: string",slug:"from-string"},{text:"exact: bool",slug:"exact-bool"},{text:"strict: bool",slug:"strict-bool"}],title:{text:"<Redirect>",slug:"Redirect"}}},620:function(n,a){n.exports={markup:'<h1 id="Route"><a href="/core/api/Route" class="internal-link">&lt;Route&gt;</a></h1>\n<p>Route &#x7EC4;&#x4EF6;&#x4E5F;&#x8BB8;&#x662F; React Router &#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8BA9;&#x4F60;&#x7406;&#x89E3;&#x5E76;&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x5B83;&#x3002;&#x5B83;&#x6700;&#x57FA;&#x672C;&#x7684;&#x804C;&#x8D23;&#x662F;&#x5728; <u>location</u> &#x4E0E; Route &#x7684; path &#x5339;&#x914D;&#x65F6;&#x5448;&#x73B0;&#x4E00;&#x4E9B; UI&#x3002;</p>\n<p>&#x8003;&#x8651;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/news<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NewsFeed<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x5982;&#x679C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4F4D;&#x7F6E;&#x662F; <code>/</code> &#x90A3;&#x4E48; UI &#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x5C06;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>\n<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Home</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token comment">&lt;!-- react-empty: 2 --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x5982;&#x679C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4F4D;&#x7F6E;&#x662F; /<code>news</code> &#xFF0C;&#x90A3;&#x4E48; UI &#x5C42;&#x6B21;&#x7ED3;&#x6784;&#x5C06;&#x662F;&#xFF1A;</p>\n<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n  <span class="token comment">&lt;!-- react-empty: 1 --&gt;</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NewsFeed</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x201C;react-empty&#x201D; &#x7684;&#x6CE8;&#x89E3;&#x53EA;&#x662F; React <code>null</code> &#x6E32;&#x67D3;&#x7684;&#x5B9E;&#x73B0;&#x7EC6;&#x8282;&#x3002;&#x4F46;&#x4E3A;&#x4E86;&#x6211;&#x4EEC;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x6709;&#x542F;&#x53D1;&#x6027;&#x7684;&#x3002;Route &#x59CB;&#x7EC8;&#x5728;&#x6280;&#x672F;&#x4E0A;&#x7528;&#x4E8E;&#x6E32;&#x67D3;&#xFF0C;&#x5373;&#x4F7F;&#x5176;&#x6E32;&#x67D3;&#x4E3A;&#x7A7A;&#x3002;&#x53EA;&#x8981;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F4D;&#x7F6E;&#x4E0E; Route &#x7684;&#x8DEF;&#x5F84;&#x5339;&#x914D;&#xFF0C;&#x60A8;&#x7684;&#x7EC4;&#x4EF6;&#x5C31;&#x4F1A;&#x88AB;&#x6E32;&#x67D3;&#x3002;</p>\n<h2 id="Route-route-render-methods"><a href="/core/api/Route/route-render-methods" class="internal-link">Route render methods</a></h2>\n<p><code>&lt;Route&gt;</code> &#x6709;&#x4E09;&#x79CD;&#x6E32;&#x67D3;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>\n<ul>\n<li><a href="/core/api/Route/component" class="internal-link"><code>&lt;Route component&gt;</code></a></li>\n<li><a href="/core/api/Route/render-func" class="internal-link"><code>&lt;Route render&gt;</code></a></li>\n<li><a href="/core/api/Route/children-func" class="internal-link"><code>&lt;Route children&gt;</code></a></li>\n</ul>\n<p>&#x6BCF;&#x4E2A;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x6709;&#x7528;&#x3002;&#x5728; <code>&lt;Route&gt;</code> &#x4E2D;&#xFF0C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x8FD9;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x3002;&#x770B;&#x770B;&#x4ED6;&#x4EEC;&#x4E0B;&#x9762;&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x4E86;&#x89E3;&#x4E3A;&#x4EC0;&#x4E48;&#x4F60;&#x6709;3&#x4E2A;&#x9009;&#x62E9;&#x3002;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x4F1A;&#x4F7F;&#x7528; <code>component</code> &#x3002;</p>\n<h2 id="Route-route-props"><a href="/core/api/Route/route-props" class="internal-link">Route props</a></h2>\n<p>&#x6240;&#x6709;&#x4E09;&#x79CD;&#x6E32;&#x67D3;&#x65B9;&#x6CD5;&#x90FD;&#x5C06;&#x901A;&#x8FC7;&#x76F8;&#x540C;&#x7684;&#x4E09;&#x4E2A; Route &#x5C5E;&#x6027;&#x3002;</p>\n<ul>\n<li><a href="/core/api/match" class="internal-link">match</a></li>\n<li><a href="/core/api/location" class="internal-link">location</a></li>\n<li><a href="/core/api/history" class="internal-link">history</a></li>\n</ul>\n<h2 id="Route-component"><a href="/core/api/Route/component" class="internal-link">component</a></h2>\n<p>&#x53EA;&#x6709;&#x5F53;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x65F6;&#x624D;&#x4F1A;&#x6E32;&#x67D3;&#x7684; <code>React</code> &#x7EC4;&#x4EF6;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/user/:username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">User</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello <span class="token punctuation">{</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>&#x5F53;&#x60A8;&#x4F7F;&#x7528; <code>component</code>&#xFF08;&#x800C;&#x4E0D;&#x662F; <code>render</code> &#x6216; <code>children</code> &#xFF09;Route &#x4F7F;&#x7528;&#x4ECE;&#x7ED9;&#x5B9A;&#x7EC4;&#x4EF6; <a href="https://facebook.github.io/react/docs/react-api.html#createelement"><code>React.createElement</code></a> &#x521B;&#x5EFA;&#x65B0;&#x7684; <a href="https://facebook.github.io/react/docs/rendering-elements.html">React element</a>&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x4E3A; <code>component</code> &#x9053;&#x5177;&#x63D0;&#x4F9B;&#x4E86;&#x5185;&#x8054;&#x529F;&#x80FD;&#xFF0C;&#x5219;&#x6BCF;&#x6B21;&#x6E32;&#x67D3;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7EC4;&#x4EF6;&#x3002;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x73B0;&#x6709;&#x7EC4;&#x4EF6;&#x5378;&#x8F7D;&#x548C;&#x5B89;&#x88C5;&#x65B0;&#x7EC4;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4EC5;&#x66F4;&#x65B0;&#x73B0;&#x6709;&#x7EC4;&#x4EF6;&#x3002;&#x5F53;&#x4F7F;&#x7528;&#x5185;&#x8054;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x5185;&#x8054;&#x6E32;&#x67D3;&#x65F6;&#xFF0C;&#x4F7F;&#x7528; <code>render</code> &#x6216;&#x8005; <code>children</code>&#xFF08;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF09;&#x3002;</p>\n<h2 id="Route-render-func"><a href="/core/api/Route/render-func" class="internal-link">render: func</a></h2>\n<p>&#x8FD9;&#x5141;&#x8BB8;&#x65B9;&#x4FBF;&#x7684;&#x5185;&#x8054;&#x6E32;&#x67D3;&#x548C;&#x5305;&#x88F9;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E0A;&#x9762;&#x90A3;&#x79CD;&#x4E0D;&#x60F3;&#x8981;&#x7684;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x7684;&#x89E3;&#x91CA;</p>\n<p>&#x60A8;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x5728;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x65F6;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x4E3A;&#x60A8;&#x521B;&#x5EFA;&#x65B0;&#x7684; <a href="https://facebook.github.io/react/docs/rendering-elements.html">React element</a> <a href="https://github.com/songda1013/react-router.cn/blob/cn/packages/react-router/docs/api/Route.md#component"><code>component</code></a>&#xFF0C;&#x8BE5; <code>render</code> &#x5C5E;&#x6027;&#x63A5;&#x6536;&#x6240;&#x6709;&#x76F8;&#x540C;&#x7684; <a href="https://github.com/songda1013/react-router.cn/blob/cn/packages/react-router/docs/api/Route.md#route-props">route props</a> &#x7684; <code>component</code> &#x6E32;&#x67D3;&#x5C5E;&#x6027;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token comment">// convenient inline rendering</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n\n<span class="token comment">// wrapping/composing</span>\n<span class="token keyword">const</span> <span class="token function-variable function">FadingRoute</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> component<span class="token punctuation">:</span> Component<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">rest</span><span class="token punctuation">}</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>props <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FadeIn</span><span class="token punctuation">&gt;</span></span>\n      <span class="token operator">&lt;</span>Component <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>FadeIn</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n<span class="token punctuation">)</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>FadingRoute</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/cool<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Something<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p><strong>&#x8B66;&#x544A;&#xFF1A;</strong> <code>&lt;Route component&gt;</code> &#x4F18;&#x5148;&#x4E8E; <code>&lt;Route render&gt;</code> &#x56E0;&#x6B64;&#x4E0D;&#x8981;&#x5728;&#x540C;&#x4E00;&#x4E2A; <code>&lt;Route&gt;</code> &#x4F7F;&#x7528;&#x4E24;&#x8005;&#x3002;</p>\n<h2 id="Route-children-func"><a href="/core/api/Route/children-func" class="internal-link">children: func</a></h2>\n<p>&#x6709;&#x65F6;&#x4F60;&#x9700;&#x8981;&#x6E32;&#x67D3;&#x8DEF;&#x5F84;&#x662F;&#x5426;&#x5339;&#x914D;&#x4F4D;&#x7F6E;&#x3002;&#x5728;&#x8FD9;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x51FD;&#x6570; <code>children</code> &#x5C5E;&#x6027;&#xFF0C;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x4E0E;&#x6E32;&#x67D3;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x5B83;&#x662F;&#x5426;&#x5B58;&#x5728;&#x5339;&#x914D;&#x3002;</p>\n<p><code>children</code> &#x6E32;&#x67D3;&#x9053;&#x5177;&#x63A5;&#x6536;&#x6240;&#x6709;&#x76F8;&#x540C;&#x7684; <a href="https://github.com/songda1013/react-router.cn/blob/cn/packages/react-router/docs/api/Route.md#route-props">route props</a> &#x4F5C;&#x4E3A; <code>component</code> &#x548C; <code>render</code> &#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x679C; Route &#x4E0E; URL &#x4E0D;&#x5339;&#x914D;&#xFF0C;<code>match</code> &#x5219;&#x4E3A; <code>null</code> &#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x4F60;&#x52A8;&#x6001;&#x8C03;&#x6574;&#x4F60;&#x7684; UI &#x754C;&#x9762;&#xFF0C;&#x57FA;&#x4E8E;&#x8DEF;&#x7EBF;&#x662F;&#x5426;&#x5339;&#x914D;&#xFF0C;&#x5982;&#x679C;&#x8DEF;&#x7EBF;&#x5339;&#x914D;&#x6211;&#x4EEC;&#x5219;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; <code>active</code> &#x7C7B;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ListItemLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ListItemLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere-else<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">ListItemLink</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> to<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token punctuation">{</span>to<span class="token punctuation">}</span> children<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>match <span class="token operator">?</span> <span class="token string">&apos;active&apos;</span> <span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>to<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">rest</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x8FD9;&#x5BF9;&#x52A8;&#x753B;&#x4E5F;&#x5F88;&#x6709;&#x7528;&#xFF1A;</p>\n<pre><code class="language-jsx"><span class="token operator">&lt;</span>Route children<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> match<span class="token punctuation">,</span> <span class="token operator">...</span>rest <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token punctuation">{</span><span class="token comment">/* Animate will always render, so you can use lifecycles\n      to animate its child in and out */</span><span class="token punctuation">}</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Animate</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span>match <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Something</span> <span class="token spread"><span class="token punctuation">{</span><span class="token punctuation">...</span><span class="token attr-value">rest</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Animate</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n</code></pre>\n<p><strong>&#x8B66;&#x544A;&#xFF1A;</strong><code>&lt;Route component&gt;</code> &#x548C; <code>&lt;Route render&gt;</code> &#x4F18;&#x5148;&#x4E8E; <code>&lt;Route children&gt;</code> &#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x8981;&#x5728;&#x540C;&#x4E00;&#x4E2A; <code>&lt;Route&gt;</code> &#x4E2D;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x3002;</p>\n<h2 id="Route-path-string"><a href="/core/api/Route/path-string" class="internal-link">path: string</a></h2>\n<p>&#x4EFB;&#x4F55; <a href="https://www.npmjs.com/package/path-to-regexp"><code>path-to-regexp</code></a> &#x53EF;&#x4EE5;&#x89E3;&#x6790;&#x7684;&#x6709;&#x6548;&#x7684; URL &#x8DEF;&#x5F84;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/users/:id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p>&#x6CA1;&#x6709;<code>path</code> <em>&#x59CB;&#x7EC8;</em>&#x5339;&#x914D;&#x7684;&#x8DEF;&#x7EBF;&#x3002;</p>\n<h2 id="Route-exact-bool"><a href="/core/api/Route/exact-bool" class="internal-link">exact: bool</a></h2>\n<p>&#x5982;&#x679C;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x53EA;&#x6709;&#x5728;&#x8DEF;&#x5F84;&#x5B8C;&#x5168;&#x5339;&#x914D; <code>location.pathname</code> &#x65F6;&#x624D;&#x5339;&#x914D;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/one<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.pathname</th>\n<th>exact</th>\n<th>matches?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one/two</code></td>\n<td><code>true</code></td>\n<td>no</td>\n</tr>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one/two</code></td>\n<td><code>false</code></td>\n<td>yes</td>\n</tr>\n</tbody>\n</table>\n<h2 id="Route-strict-bool"><a href="/core/api/Route/strict-bool" class="internal-link">strict: bool</a></h2>\n<p>&#x5982;&#x679C;&#x4E3A; <code>true</code> &#x5F53;&#x771F;&#x5B9E;&#x7684;&#x8DEF;&#x5F84;&#x5177;&#x6709;&#x4E00;&#x4E2A;&#x659C;&#x7EBF;&#x5C06;&#x53EA;&#x5339;&#x914D;&#x4E00;&#x4E2A;&#x659C;&#x7EBF;location.pathname&#xFF0C;&#x5982;&#x679C;&#x6709;&#x66F4;&#x591A;&#x7684;URL&#x6BB5; <code>location.pathname</code> &#xFF0C;&#x5C06;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">strict</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/one/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.pathname</th>\n<th>matches?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>/one/</code></td>\n<td><code>/one</code></td>\n<td>no</td>\n</tr>\n<tr>\n<td><code>/one/</code></td>\n<td><code>/one/</code></td>\n<td>yes</td>\n</tr>\n<tr>\n<td><code>/one/</code></td>\n<td><code>/one/two</code></td>\n<td>yes</td>\n</tr>\n</tbody>\n</table>\n<p>**&#x8B66;&#x544A;&#xFF1A;**&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>strict</code> &#x6765;&#x5F3A;&#x5236;&#x6267;&#x884C; <code>location.pathname</code> &#x6CA1;&#x6709;&#x7ED3;&#x5C3E;&#x659C;&#x6760;&#xFF0C;&#x4F46;&#x4E3A;&#x4E86;&#x6267;&#x884C;&#x6B64;&#x64CD;&#x4F5C;&#xFF0C;<code>strict</code> &#x548C; <code>exact</code> &#x5FC5;&#x987B;&#x90FD;&#x662F; <code>true</code> &#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">strict</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/one<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.pathname</th>\n<th>matches?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one</code></td>\n<td>yes</td>\n</tr>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one/</code></td>\n<td>no</td>\n</tr>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one/two</code></td>\n<td>no</td>\n</tr>\n</tbody>\n</table>\n<h2 id="Route-location-object"><a href="/core/api/Route/location-object" class="internal-link">location: object</a></h2>\n<p>&#x4E00;&#x4E2A; <code>&lt;Route&gt;</code> &#x5143;&#x7D20;&#x5C1D;&#x8BD5;&#x5176;&#x5339;&#x914D; <code>path</code> &#x5230;&#x5F53;&#x524D;&#x7684;&#x5386;&#x53F2;&#x4F4D;&#x7F6E;&#xFF08;&#x901A;&#x5E38;&#x662F;&#x5F53;&#x524D;&#x6D4F;&#x89C8;&#x5668; URL &#xFF09;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<a href="https://github.com/songda1013/react-router.cn/blob/cn/packages/react-router/docs/api/location.md"><code>location</code></a> &#x4E00;&#x4E2A;&#x4E0D;&#x540C; <code>pathname</code> &#x7684;&#x5339;&#x914D;&#x3002;</p>\n<p>&#x5982;&#x679C;&#x60A8;&#x9700;&#x8981;&#x5C06; <code>&lt;Route&gt;</code> &#x4E0E;&#x5F53;&#x524D;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x4F4D;&#x7F6E;&#x4EE5;&#x5916;&#x7684;&#x4F4D;&#x7F6E;&#x76F8;&#x5339;&#x914D;&#xFF0C;&#x5219;&#x6B64;&#x529F;&#x80FD;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x5982; <a href="https://reacttraining.com/react-router/web/example/animated-transitions">Animated Transitions</a> &#x793A;&#x4F8B;&#x4E2D;&#x6240;&#x793A;&#x3002;</p>\n<p>&#x5982;&#x679C; <code>&lt;Route&gt;</code> &#x5143;&#x7D20;&#x5305;&#x88F9;&#x5728; <code>&lt;Switch&gt;</code> &#x4E2D;&#xFF0C;&#x5E76;&#x4E14;&#x5339;&#x914D;&#x5730;&#x5740;&#x4F20;&#x9012;&#x7ED9; <code>&lt;Switch&gt;</code>&#xFF08;&#x6216;&#x8005;&#x5F53;&#x524D;&#x7684;&#x5386;&#x53F2;&#x4F4D;&#x7F6E;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x4F20;&#x9012;&#x7ED9; <code>&lt;Route&gt;</code> &#x7684;&#x5730;&#x5740;&#x5C5E;&#x6027;&#x5C06;&#x4F1A;&#x88AB;&#x4F20;&#x9012;&#x7ED9; <code>&lt;Switch&gt;</code> &#x7684;&#x5730;&#x5740;&#x5C5E;&#x6027;&#x8986;&#x76D6;&#xFF08;<a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/modules/Switch.js#L51">&#x5728;&#x8FD9;&#x91CC;&#x7ED9;&#x51FA;</a>&#xFF09;</p>\n<h2 id="Route-sensitive-bool"><a href="/core/api/Route/sensitive-bool" class="internal-link">sensitive: bool</a></h2>\n<p>&#x5982;&#x679C;&#x8DEF;&#x5F84;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5219;&#x4E3A; <code>true</code> &#xFF0C;&#x5219;&#x5339;&#x914D;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">sensitive</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/one<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>path</th>\n<th>location.pathname</th>\n<th>sensitive</th>\n<th>matches?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>/one</code></td>\n<td><code>/one</code></td>\n<td><code>true</code></td>\n<td>yes</td>\n</tr>\n<tr>\n<td><code>/One</code></td>\n<td><code>/one</code></td>\n<td><code>true</code></td>\n<td>no</td>\n</tr>\n<tr>\n<td><code>/One</code></td>\n<td><code>/one</code></td>\n<td><code>false</code></td>\n<td>yes</td>\n</tr>\n</tbody>\n</table>\n',headers:[{text:"Route render methods",slug:"route-render-methods"},{text:"Route props",slug:"route-props"},{text:"component",slug:"component"},{text:"render: func",slug:"render-func"},{text:"children: func",slug:"children-func"},{text:"path: string",slug:"path-string"},{text:"exact: bool",slug:"exact-bool"},{text:"strict: bool",slug:"strict-bool"},{text:"location: object",slug:"location-object"},{text:"sensitive: bool",slug:"sensitive-bool"}],title:{text:"<Route>",slug:"Route"}}},621:function(n,a){n.exports={markup:'<h1 id="Router"><a href="/core/api/Router" class="internal-link">&lt;Router&gt;</a></h1>\n<p>Router &#x662F;&#x6240;&#x6709;&#x8DEF;&#x7531;&#x7EC4;&#x4EF6;&#x5171;&#x7528;&#x7684;&#x5E95;&#x5C42;&#x63A5;&#x53E3;&#x3002;&#x901A;&#x5E38;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C06;&#x4F7F;&#x7528;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x9AD8;&#x7EA7;&#x8DEF;&#x7531;&#x5668;&#x4EE3;&#x66FF;&#xFF1A;</p>\n<ul>\n<li><a href="/web/api/BrowserRouter" class="internal-link"><code>&lt;BrowserRouter&gt;</code></a></li>\n<li><a href="/web/api/HashRouter" class="internal-link"><code>&lt;HashRouter&gt;</code></a></li>\n<li><a href="/core/api/MemoryRouter" class="internal-link"><code>&lt;MemoryRouter&gt;</code></a></li>\n<li><a href="/native/api/NativeRouter" class="internal-link"><code>&lt;NativeRouter&gt;</code></a></li>\n<li><a href="/core/api/StaticRouter" class="internal-link"><code>&lt;StaticRouter&gt;</code></a></li>\n</ul>\n<p>&#x6700;&#x5E38;&#x89C1;&#x7684;&#x4F7F;&#x7528;&#x5E95;&#x5C42;&#x7684; <code>&lt;Router&gt;</code> &#x7684;&#x60C5;&#x5F62;&#x5C31;&#x662F;&#x7528;&#x6765;&#x4E0E; Redux &#x6216;&#x8005; Mobx &#x4E4B;&#x7C7B;&#x7684;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x5E93;&#x7684;&#x5B9A;&#x5236;&#x7684; history &#x4FDD;&#x6301;&#x540C;&#x6B65;&#x3002;&#x6CE8;&#x610F;&#x4E0D;&#x662F;&#x8BF4;&#x4F7F;&#x7528;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x5E93;&#x5C31;&#x5FC5;&#x987B;&#x4F7F;&#x7528; React Router &#xFF0C;&#x5B83;&#x4EC5;&#x7528;&#x4F5C;&#x4E8E;&#x6DF1;&#x5EA6;&#x96C6;&#x6210;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Router <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n<span class="token keyword">import</span> createBrowserHistory <span class="token keyword">from</span> <span class="token string">&apos;history/createBrowserHistory&apos;</span>\n\n<span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">createBrowserHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span> <span class="token attr-name">history</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>history<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Router-history-object"><a href="/core/api/Router/history-object" class="internal-link">history: object</a></h2>\n<p>&#x7528;&#x6765;&#x5BFC;&#x822A;&#x7684; <a href="https://github.com/ReactTraining/history"><code>history</code></a> &#x5BF9;&#x8C61;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> createBrowserHistory <span class="token keyword">from</span> <span class="token string">&apos;history/createBrowserHistory&apos;</span>\n\n<span class="token keyword">const</span> customHistory <span class="token operator">=</span> <span class="token function">createBrowserHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span> <span class="token attr-name">history</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>customHistory<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<h2 id="Router-children-node"><a href="/core/api/Router/children-node" class="internal-link">children: node</a></h2>\n<p>&#x9700;&#x8981;&#x6E32;&#x67D3;&#x7684;<a href="https://facebook.github.io/react/docs/react-api.html#react.children.only">&#x5355;&#x4E00;&#x7EC4;&#x4EF6;</a>&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Router</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Router</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n',headers:[{text:"history: object",slug:"history-object"},{text:"children: node",slug:"children-node"}],title:{text:"<Router>",slug:"Router"}}},622:function(n,a){n.exports={markup:'<h1 id="StaticRouter"><a href="/core/api/StaticRouter" class="internal-link">&lt;StaticRouter&gt;</a></h1>\n<p>&#x4E00;&#x4E2A;&#x6C38;&#x4E0D;&#x6539;&#x53D8;&#x5730;&#x5740;&#x7684; <a href="Router.md"><code>&lt;Router&gt;</code></a>&#x3002;</p>\n<p>&#x5F53;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x70B9;&#x51FB;&#x65F6;&#xFF0C;&#x5B83;&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6E32;&#x67D3;&#x811A;&#x672C;&#x662F;&#x6709;&#x5E2E;&#x52A9;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x8BE5; location &#x5B9E;&#x9645;&#x4E0A;&#x5E76;&#x672A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;&#x7531;&#x6B64;&#x547D;&#x540D;&#xFF1A;&#x9759;&#x6001;&#x3002;&#x5F53;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x5E76;&#x4E14;&#x5728;&#x6E32;&#x67D3;&#x8F93;&#x51FA;&#x4E0A;&#x4F5C;&#x51FA;&#x65AD;&#x8A00;&#x65F6;&#xFF0C;&#x5B83;&#x5728;&#x7B80;&#x5355;&#x6D4B;&#x8BD5;&#x4E2D;&#x4E5F;&#x5F88;&#x6709;&#x7528;&#x3002;</p>\n<p>&#x4EE5;&#x4E0B;&#x662F;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x670D;&#x52A1;&#x5668;&#x793A;&#x4F8B;&#xFF0C;&#x5B83;&#x4E3A; <a href="Redirect.md"><code>&lt;Redirect&gt;</code></a> &#x53D1;&#x9001;302&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x5E76;&#x4E3A;&#x5176;&#x4ED6;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x5E38;&#x89C4;&#x7684; HTML&#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> createServer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;http&apos;</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>\n<span class="token keyword">import</span> ReactDOMServer <span class="token keyword">from</span> <span class="token string">&apos;react-dom/server&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> StaticRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n\n  <span class="token comment">// &#x8FD9;&#x4E2A;&#x4E0A;&#x4E0B;&#x6587;&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x6E32;&#x67D3;&#x7ED3;&#x679C;</span>\n  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n  <span class="token keyword">const</span> html <span class="token operator">=</span> ReactDOMServer<span class="token punctuation">.</span><span class="token function">renderToString</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>req<span class="token punctuation">.</span>url<span class="token punctuation">}</span></span> <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span>\n\n  <span class="token comment">// &#x5982;&#x679C;&#x4E00;&#x4E2A; &lt;Redirect&gt; &#x88AB;&#x4F7F;&#x7528;&#xFF0C;context.url &#x5C06;&#x5305;&#x542B; URL &#x91CD;&#x5B9A;&#x5411;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n      Location<span class="token punctuation">:</span> context<span class="token punctuation">.</span>url\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>\n    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="StaticRouter-basename-string"><a href="/core/api/StaticRouter/basename-string" class="internal-link">basename: string</a></h2>\n<p>&#x6240;&#x6709; location &#x7684;&#x57FA;&#x672C; URL&#x3002;&#x4E00;&#x4E2A;&#x6B63;&#x786E;&#x7684;&#x547D;&#x540D;&#x683C;&#x5F0F;&#x5E94;&#x8BE5;&#x6709;&#x4E00;&#x4E2A;&#x524D;&#x5BFC;&#x659C;&#x7EBF;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x540E;&#x9762;&#x7684;&#x659C;&#x7EBF;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">basename</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/calendar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/today<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token comment">// renders &lt;a href=&quot;/calendar/today&quot;&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="StaticRouter-location-string"><a href="/core/api/StaticRouter/location-string" class="internal-link">location: string</a></h2>\n<p>&#x670D;&#x52A1;&#x5668;&#x6536;&#x5230;&#x7684; URL&#xFF0C;&#x6216;&#x8BB8; <code>req.url</code> &#x4F1A;&#x4F4D;&#x4E8E;&#x8282;&#x70B9;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>req<span class="token punctuation">.</span>url<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="StaticRouter-location-object"><a href="/core/api/StaticRouter/location-object" class="internal-link">location: object</a></h2>\n<p>&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x5BF9;&#x8C61;&#x5F62;&#x4F3C; <code>{ pathname, search, hash, state }</code>&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">&apos;/bubblegum&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="StaticRouter-context-object"><a href="/core/api/StaticRouter/context-object" class="internal-link">context: object</a></h2>\n<p>&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684; JavaScript &#x5BF9;&#x8C61;&#x3002;&#x5728;&#x6E32;&#x67D3;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x7EC4;&#x4EF6;&#x53EF;&#x4EE5;&#x5411;&#x5BF9;&#x8C61;&#x6DFB;&#x52A0;&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x6709;&#x5173;&#x6E32;&#x67D3;&#x7684;&#x4FE1;&#x606F;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StaticRouter</span> <span class="token attr-name">context</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>context<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span> <span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StaticRouter</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x5F53;&#x4E00;&#x4E2A; <code>&lt;Route&gt;</code> &#x5339;&#x914D;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x5C06;&#x4E0A;&#x4E0B;&#x6587;&#x5BF9;&#x8C61;&#x4F20;&#x9012;&#x7ED9;&#x4F5C;&#x4E3A; <code>staticContext</code> &#x5C5E;&#x6027;&#x6E32;&#x67D3;&#x7684;&#x7EC4;&#x4EF6;&#x3002;&#x67E5;&#x770B; <a href="/web/guides/server-rendering" class="internal-link">Server Rendering guide</a> &#x6765;&#x83B7;&#x5F97;&#x66F4;&#x591A;&#x6709;&#x5173;&#x5982;&#x4F55;&#x81EA;&#x884C;&#x5B8C;&#x6210;&#x6B64;&#x64CD;&#x4F5C;&#x7684;&#x4FE1;&#x606F;&#x3002;</p>\n<p>&#x6E32;&#x67D3;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x6765;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x3002;</p>\n<pre><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&apos;404&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<h2 id="StaticRouter-children-node"><a href="/core/api/StaticRouter/children-node" class="internal-link">children: node</a></h2>\n<p>&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x6E32;&#x67D3;&#x7684; <a href="https://facebook.github.io/react/docs/react-api.html#react.children.only">&#x5355;&#x4E00;&#x7684;&#x5B50;&#x5143;&#x7D20;</a>&#x3002;</p>\n',headers:[{text:"basename: string",slug:"basename-string"},{text:"location: string",slug:"location-string"},{text:"location: object",slug:"location-object"},{text:"context: object",slug:"context-object"},{text:"children: node",slug:"children-node"}],title:{text:"<StaticRouter>",slug:"StaticRouter"}}},623:function(n,a){n.exports={markup:'<h1 id="Switch"><a href="/core/api/Switch" class="internal-link">&lt;Switch&gt;</a></h1>\n<p>&#x6E32;&#x67D3;&#x4E0E;&#x8BE5;&#x5730;&#x5740;&#x5339;&#x914D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B50;&#x8282;&#x70B9; <code>&lt;Route&gt;</code> &#x6216;&#x8005; <code>&lt;Redirect&gt;</code>&#x3002;</p>\n<p><strong>&#x8FD9;&#x4E0E;&#x4EC5;&#x4F7F;&#x7528;&#x4E00;&#x5806; <code>&lt;Route&gt;</code> &#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;</strong></p>\n<p><code>&lt;Switch&gt;</code> &#x7684;&#x72EC;&#x7279;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x5B83;&#x4E13;&#x95E8;&#x5448;&#x73B0;&#x8DEF;&#x7531;&#x3002;&#x76F8;&#x6BD4;&#x4E4B;&#x4E0B;&#xFF0C;&#x4E0E;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x7684;&#x6BCF;&#x4E2A; <code>&lt;Route&gt;</code> &#x90FD;&#x5DF2;&#x5305;&#x542B;&#x65B9;&#x5F0F;&#x5448;&#x73B0;&#x3002;&#x8BF7;&#x8003;&#x8651;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/:user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p>&#x5982;&#x679C; URL &#x662F; <code>/about</code> &#xFF0C; &#x90A3;&#x4E48; <code>&lt;About&gt;</code> &#xFF0C; <code>&lt;User&gt;</code> &#xFF0C; <code>&lt;NoMatch&gt;</code>&#x5C06;&#x5168;&#x90E8;&#x6E32;&#x67D3;&#xFF0C;&#x56E0;&#x4E3A;&#x4ED6;&#x4EEC;&#x90FD;&#x4E0E;&#x8DEF;&#x5F84;&#x5339;&#x914D;&#x3002;&#x8FD9;&#x662F;&#x901A;&#x8FC7;&#x8BBE;&#x8BA1;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x4EE5;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#x5C06; <code>&lt;Route&gt;</code> &#x7EC4;&#x5408;&#x5230;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x7C7B;&#x4F3C;&#x4FA7;&#x8FB9;&#x680F;&#xFF08;sidebars&#xFF09;&#x548C;&#x9762;&#x5305;&#x5C51;&#x5BFC;&#x822A;&#xFF08;breadcrumbs&#xFF09;&#xFF0C; bootstrap &#x6807;&#x7B7E;&#x7B49;&#x7B49;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EA;&#x60F3;&#x9009;&#x62E9;&#x4E00;&#x6761; <code>&lt;Route&gt;</code> &#x8FDB;&#x884C;&#x6E32;&#x67D3;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5728; <code>/about</code> &#xFF0C;&#x6211;&#x4EEC;&#x53C8;&#x4E0D;&#x60F3;&#x5339;&#x914D; <code>/:user</code> &#xFF08;&#x6216;&#x8005;&#x663E;&#x793A;404&#xFF09;&#x3002;&#x4EE5;&#x4E0B;&#x662F;&#x5982;&#x4F55;&#x4F7F;&#x7528; <code>Switch</code> &#x6267;&#x884C;&#x6B64;&#x64CD;&#x4F5C;:</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Switch<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/:user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>User<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<p>&#x73B0;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5728; <code>/about</code> &#xFF0C;<code>&lt;Switch&gt;</code> &#x5C06;&#x5F00;&#x59CB;&#x67E5;&#x627E;&#x5339;&#x914D;&#x7684;  <code>&lt;Route&gt;</code> &#xFF0C;<code>&lt;Route path=&quot;/about&#x201D;/&gt;&lt;Switch&gt;</code> &#x5C06;&#x505C;&#x6B62;&#x67E5;&#x627E;&#x5339;&#x914D;&#x9879;&#x5E76;&#x6E32;&#x67D3; <code>&lt;About&gt;</code> &#xFF0C;&#x540C;&#x6837;&#xFF0C;&#x5982;&#x679C;&#x662F; <code>/Michael</code> &#xFF0C;&#x5219; <code>&lt; User &gt;</code> &#x5C06;&#x6E32;&#x67D3;&#x3002;</p>\n<p>&#x8FD9;&#x5BF9;&#x4E8E;&#x52A8;&#x753B;&#x8FC7;&#x6E21;&#x6548;&#x679C;&#x4E5F;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x5339;&#x914D;&#x7684; <code>&lt;Route&gt;</code> &#x88AB;&#x6E32;&#x67D3;&#x5230;&#x4E0E;&#x524D;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x76F8;&#x540C;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Fade</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">{</span><span class="token comment">/* there will only ever be one child here */</span><span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Fade</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Fade</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token punctuation">{</span><span class="token comment">/* there will always be two children here,\n      one might render null though, making transitions\n      a bit more cumbersome to work out */</span><span class="token punctuation">}</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Fade</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n<h2 id="Switch-location-object"><a href="/core/api/Switch/location-object" class="internal-link">location: object</a></h2>\n<p>&#x7528;&#x4E8E;&#x5339;&#x914D;&#x5B50;&#x5143;&#x7D20;&#x800C;&#x4E0D;&#x662F;&#x5F53;&#x524D;&#x5386;&#x53F2;&#x4F4D;&#x7F6E;&#xFF08;&#x901A;&#x5E38;&#x662F;&#x5F53;&#x524D;&#x6D4F;&#x89C8;&#x5668; URL &#xFF09;&#x7684; <a href="/core/api/location" class="internal-link"><code>location</code></a>&#x3002;</p>\n<h2 id="Switch-children-node"><a href="/core/api/Switch/children-node" class="internal-link">children: node</a></h2>\n<p><code>&lt;Switch&gt;</code> &#x7684;&#x6240;&#x6709;&#x5B50;&#x7EA7;&#x90FD;&#x5E94;&#x8BE5;&#x662F; <code>&lt;Route&gt;</code> &#x6216; <code>&lt;Redirect&gt;</code> &#x5143;&#x7D20;&#x3002;&#x5C06;&#x6E32;&#x67D3;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B50;&#x7EA7;&#x3002;</p>\n<p><code>&lt;Route&gt;</code> &#x5143;&#x7D20;&#x4F7F;&#x7528;&#x5176; <code>path</code> &#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF0C; <code>&lt;Redirect&gt;</code> &#x5143;&#x7D20;&#x4F7F;&#x7528;&#x5176; <code>from</code> &#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF0C;&#x4E0D;&#x5E26; <code>path</code> &#x5C5E;&#x6027;&#x7684; <code>&lt;Route&gt;</code> &#x6216;&#x4E0D;&#x5E26; <code>from</code> &#x5C5E;&#x6027;&#x7684; <code>&lt;Redirect&gt;</code> &#x5C06;&#x59CB;&#x7EC8;&#x4E0E;&#x5F53;&#x524D;&#x8DEF;&#x5F84;&#x5339;&#x914D;&#x3002;</p>\n<p>&#x5F53; <code>&lt;Redirect&gt;</code> &#x5305;&#x542B; <code>&lt;Switch&gt;</code> &#x65F6;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>&lt;Route&gt;</code> &#x7684;&#x4EFB;&#x4F55;&#x4F4D;&#x7F6E;&#x5339;&#x914D;&#x5C5E;&#x6027;&#xFF1A;<code>path</code>&#xFF0C; <code>exact</code> &#x548C; <code>strict</code>&#xFF0C; <code>from</code> &#x53EA;&#x662F;&#x8DEF;&#x5F84;&#x5C5E;&#x6027;&#x7684;&#x522B;&#x540D;&#x3002;</p>\n<p>&#x5982;&#x679C;&#x4E3A; <code>&lt;Switch&gt;</code> &#x63D0;&#x4F9B;&#x4E86; <code>location</code> &#x5C5E;&#x6027;&#xFF0C;&#x5B83;&#x5C06;&#x8986;&#x76D6;&#x5339;&#x914D;&#x5B50;&#x5143;&#x7D20;&#x4E0A;&#x7684; <code>location</code> &#x5C5E;&#x6027;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/users<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Users<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">from</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/accounts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/users<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>NoMatch<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">&gt;</span></span>\n</code></pre>\n',headers:[{text:"location: object",slug:"location-object"},{text:"children: node",slug:"children-node"}],title:{text:"<Switch>",slug:"Switch"}}},624:function(n,a){n.exports={markup:'<h1 id="contextrouter"><a href="/core/api/contextrouter" class="internal-link">context.router</a></h1>\n<p>React Router &#x4F7F;&#x7528; context.router &#x6765;&#x4FC3;&#x8FDB; <code>&lt;Router&gt;</code> &#x53CA;&#x5176;&#x540E;&#x4EE3; <a href="Route.md"><code>&lt;Route&gt;</code></a>&#xFF0C;<a href="/web/api/Link" class="internal-link"><code>&lt;Link&gt;</code></a>&#xFF0C;<a href="Prompt.md"><code>&lt;Prompt&gt;</code></a> &#x7B49;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x3002;</p>\n<p>context.router &#x4E0D;&#x5E94;&#x88AB;&#x89C6;&#x4E3A;&#x516C;&#x5171; API&#x3002;&#x7531;&#x4E8E;&#x4E0A;&#x4E0B;&#x6587;&#x672C;&#x8EAB;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x6027;&#x7684; API&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x80FD;&#x5728;&#x672A;&#x6765;&#x7684; React &#x7248;&#x672C;&#x4E2D;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x6240;&#x4EE5;&#x5E94;&#x907F;&#x514D;&#x76F4;&#x63A5;&#x5728;&#x7EC4;&#x4EF6;&#x4E2D;&#x8BBF;&#x95EE; <code>this.context.router</code>&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F20;&#x9012;&#x7ED9; <a href="Route.md"><code>&lt;Route&gt;</code></a> &#x7EC4;&#x4EF6;&#x6216;&#x4F7F;&#x7528; <a href="withRouter.md"><code>withRouter</code></a> &#x5305;&#x88F9;&#x7EC4;&#x4EF6;&#x6765;&#x8BBF;&#x95EE;&#x6211;&#x4EEC;&#x5728;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x53D8;&#x91CF;&#x3002;</p>\n',headers:[],title:{text:"context.router",slug:"contextrouter"}}},625:function(n,a){n.exports={markup:'<h1 id="history"><a href="/core/api/history" class="internal-link">history</a></h1>\n<p>&#x672C;&#x6587;&#x6863;&#x4E2D;&#x7684; &#x201C;history&#x201D; &#x4EE5;&#x53CA; &#x201C;<code>history</code>&#x5BF9;&#x8C61;&#x201D; &#x8BF7;&#x53C2;&#x7167; <a href="https://github.com/ReactTraining/history"><code>history</code> &#x5305;</a>&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;History &#x662F; React Router &#x7684;&#x4E24;&#x5927;&#x91CD;&#x8981;&#x4F9D;&#x8D56;&#x4E4B;&#x4E00;(&#x9664;&#x53BB; React &#x672C;&#x8EAB;)&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x7684; Javascript &#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x591A;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x5BF9; session &#x5386;&#x53F2;&#x7684;&#x7BA1;&#x7406;&#x3002;</p>\n<p>&#x6211;&#x4EEC;&#x4E5F;&#x4F1A;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x672F;&#x8BED;&#xFF1A;</p>\n<ul>\n<li>&#x201C;browser history&#x201D; - &#x5728; DOM &#x4E0A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4F7F;&#x7528;&#x4E8E;&#x652F;&#x6301; HTML5 history API &#x7684;Web&#x6D4F;&#x89C8;&#x5668;&#x4E2D;</li>\n<li>&#x201C;hash history&#x201D; - &#x5728; DOM &#x4E0A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4F7F;&#x7528;&#x4E8E;&#x65E7;&#x7248;&#x672C;&#x7684;Web&#x6D4F;&#x89C8;&#x5668;&#x4E2D;</li>\n<li>&#x201C;memory history&#x201D; - &#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7684; history &#x5B9E;&#x73B0;&#xFF0C;&#x4F7F;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x6216;&#x8005;&#x975E; DOM &#x73AF;&#x5883;&#x4E2D;</li>\n</ul>\n<p><code>history</code> &#x5BF9;&#x8C61;&#x901A;&#x5E38;&#x4F1A;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#xFF1A;</p>\n<ul>\n<li><code>length</code> - (number&#x7C7B;&#x578B;) history &#x5806;&#x6808;&#x7684;&#x6761;&#x76EE;&#x6570;</li>\n<li><code>action</code> - (string&#x7C7B;&#x578B;) &#x5F53;&#x524D;&#x7684;&#x64CD;&#x4F5C;(<code>PUSH</code>, <code>REPLACE</code>, <code>POP</code>)</li>\n<li><code>location</code> - (object&#x7C7B;&#x578B;) &#x5F53;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x3002;location &#x4F1A;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;&#xFF1A;\n<ul>\n<li><code>pathname</code> - (string&#x7C7B;&#x578B;) URL&#x8DEF;&#x5F84;</li>\n<li><code>search</code> - (string&#x7C7B;&#x578B;) URL&#x4E2D;&#x7684;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;</li>\n<li><code>hash</code> - (string&#x7C7B;&#x578B;) URL&#x7684; hash &#x7247;&#x6BB5;</li>\n<li><code>state</code> - (object&#x7C7B;&#x578B;) location &#x7684;&#x72B6;&#x6001;&#x3002;&#x4F8B;&#x5982;&#x5728; <code>push(path, state)</code> &#x65F6;&#xFF0C;state&#x4F1A;&#x63CF;&#x8FF0;&#x4EC0;&#x4E48;&#x65F6;&#x5019; location &#x88AB;&#x653E;&#x7F6E;&#x5230;&#x5806;&#x6808;&#x4E2D;&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x4E2A; state &#x53EA;&#x4F1A;&#x51FA;&#x73B0;&#x5728; browser history &#x548C; memory history &#x7684;&#x73AF;&#x5883;&#x91CC;&#x3002;</li>\n</ul>\n</li>\n<li><code>push(path, [state])</code> - (function&#x7C7B;&#x578B;) &#x5728; history &#x5806;&#x6808;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x6761;&#x76EE;</li>\n<li><code>replace(path, [state])</code> - (function&#x7C7B;&#x578B;) &#x66FF;&#x6362;&#x5728; history &#x5806;&#x6808;&#x4E2D;&#x7684;&#x5F53;&#x524D;&#x6761;&#x76EE;</li>\n<li><code>go(n)</code> - (function&#x7C7B;&#x578B;) &#x5C06; history &#x5806;&#x6808;&#x4E2D;&#x7684;&#x6307;&#x9488;&#x8C03;&#x6574; <code>n</code></li>\n<li><code>goBack()</code> - (function&#x7C7B;&#x578B;) &#x7B49;&#x540C;&#x4E8E; <code>go(-1)</code></li>\n<li><code>goForward()</code> - (function&#x7C7B;&#x578B;) &#x7B49;&#x540C;&#x4E8E; <code>go(1)</code></li>\n<li><code>block(prompt)</code> - (function&#x7C7B;&#x578B;) &#x963B;&#x6B62;&#x8DF3;&#x8F6C;&#x3002;(&#x8BE6;&#x89C1; <a href="https://github.com/ReactTraining/history#blocking-transitions">history &#x6587;&#x6863;</a>)&#x3002;</li>\n</ul>\n<h2 id="history-history"><a href="/core/api/history/history" class="internal-link">history &#x662F;&#x53EF;&#x53D8;&#x7684;</a></h2>\n<p>history &#x5BF9;&#x8C61;&#x662F;&#x53EF;&#x53D8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5EFA;&#x8BAE;&#x4ECE; <a href="/core/api/Route" class="internal-link"><code>&lt;Route&gt;</code></a> &#x7684; props  &#x91CC;&#x6765;&#x83B7;&#x53D6; location &#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4ECE; <code>history.location</code> &#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1; React &#x5728;&#x751F;&#x547D;&#x5468;&#x671F;&#x4E2D;&#x7684;&#x94A9;&#x5B50;&#x51FD;&#x6570;&#x6B63;&#x5E38;&#x6267;&#x884C;&#xFF0C;&#x4F8B;&#x5982;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>\n<pre><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Comp</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// locationChanged &#x5C06;&#x4E3A; true</span>\n    <span class="token keyword">const</span> locationChanged <span class="token operator">=</span> nextProps<span class="token punctuation">.</span>location <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location\n\n    <span class="token comment">// INCORRECT&#xFF0C;&#x56E0;&#x4E3A; history &#x662F;&#x53EF;&#x53D8;&#x7684;&#x6240;&#x4EE5; locationChanged &#x5C06;&#x4E00;&#x76F4;&#x4E3A; false</span>\n    <span class="token keyword">const</span> locationChanged <span class="token operator">=</span> nextProps<span class="token punctuation">.</span>history<span class="token punctuation">.</span>location <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span>location\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>Comp<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n</code></pre>\n<p>&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x5176;&#x4ED6;&#x5C5E;&#x6027;&#x3002;&#x66F4;&#x591A;&#x8BE6;&#x60C5;&#x8BF7;&#x53C2;&#x8003; <a href="https:github.comReactTraininghistory">history &#x6587;&#x6863;</a>&#x3002;</p>\n',headers:[{text:"history 是可变的",slug:"history"}],title:{text:"history",slug:"history"}}},626:function(n,a){n.exports={markup:'<h1 id="location"><a href="/core/api/location" class="internal-link">location</a></h1>\n<p>location &#x4EE3;&#x8868;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x73B0;&#x5728;&#x5728;&#x54EA;&#xFF0C;&#x4F60;&#x60F3;&#x8BA9;&#x5B83;&#x53BB;&#x54EA;&#xFF0C;&#x6216;&#x8005;&#x751A;&#x81F3;&#x5B83;&#x66FE;&#x7ECF;&#x5728;&#x54EA;&#xFF0C;&#x5B83;&#x770B;&#x8D77;&#x6765;&#x5C31;&#x50CF;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token punctuation">{</span>\n  key<span class="token punctuation">:</span> <span class="token string">&apos;ac3df4&apos;</span><span class="token punctuation">,</span> <span class="token comment">// not with HashHistory!</span>\n  pathname<span class="token punctuation">:</span> <span class="token string">&apos;/somewhere&apos;</span>\n  search<span class="token punctuation">:</span> <span class="token string">&apos;?some=search-string&apos;</span><span class="token punctuation">,</span>\n  hash<span class="token punctuation">:</span> <span class="token string">&apos;#howdy&apos;</span><span class="token punctuation">,</span>\n  state<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span>userDefined<span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>router &#x5C06;&#x5728;&#x8FD9;&#x51E0;&#x4E2A;&#x5730;&#x65B9;&#x4E3A;&#x60A8;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A; location &#x5BF9;&#x8C61;&#xFF1A;</p>\n<ul>\n<li><a href="/core/api/Route/component" class="internal-link">Route component</a> as <code>this.props.location</code></li>\n<li><a href="/core/api/Route/render-func" class="internal-link">Route render</a> as <code>({ location }) =&gt; ()</code></li>\n<li><a href="/core/api/Route/children-func" class="internal-link">Route children</a> as <code>({ location }) =&gt; ()</code></li>\n<li><a href="/core/api/withRouter" class="internal-link">withRouter</a> as <code>this.props.location</code></li>\n</ul>\n<p>&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x5728; <code>history.location</code> &#x627E;&#x5230;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x4E0D;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x53EF;&#x53D8;&#x7684;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728; <a href="/core/api/history" class="internal-link">history</a> &#x6587;&#x6863;&#x4E2D;&#x9605;&#x8BFB;&#x66F4;&#x591A;&#x5185;&#x5BB9;&#x3002;</p>\n<p>location &#x5BF9;&#x8C61;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x56E0;&#x6B64;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x751F;&#x547D;&#x5468;&#x671F;&#x94A9;&#x5B50;&#x4E2D;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x786E;&#x5B9A;&#x4F55;&#x65F6;&#x5BFC;&#x822A;&#xFF0C;&#x8FD9;&#x5BF9;&#x6570;&#x636E;&#x6293;&#x53D6;&#x548C;&#x52A8;&#x753B;&#x975E;&#x5E38;&#x6709;&#x7528;&#x3002;</p>\n<pre><code class="language-js"><span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>location <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// navigated!</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n<p>&#x4F60;&#x53EF;&#x4EE5;&#x5C06; location &#x800C;&#x4E0D;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x63D0;&#x4F9B;&#x7ED9;&#x5BFC;&#x822A;&#x7684;&#x5404;&#x79CD;&#x4F4D;&#x7F6E;&#xFF1A;</p>\n<ul>\n<li>Web <a href="/web/api/Link/to" class="internal-link">Link to</a></li>\n<li>Native <a href="/native/api/Link/to" class="internal-link">Link to</a></li>\n<li><a href="/core/api/Redirect/to" class="internal-link">Redirect to</a></li>\n<li><a href="/core/api/history/push" class="internal-link">history.push</a></li>\n<li><a href="/core/api/history/push" class="internal-link">history.replace</a></li>\n</ul>\n<p>&#x901A;&#x5E38;&#x4F60;&#x53EA;&#x662F;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B; &#x201C;location state&#x201D;&#xFF0C;&#x53EA;&#x8981;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FD4;&#x56DE;&#x5230;&#x7279;&#x5B9A;&#x7684;&#x5730;&#x5740;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; location &#x5BF9;&#x8C61;&#x3002; &#x5982;&#x679C;&#x4F60;&#x60F3;&#x6839;&#x636E;&#x5BFC;&#x822A;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x800C;&#x4E0D;&#x662F;&#x4EC5;&#x8DEF;&#x5F84;&#xFF08;&#x6BD4;&#x5982;&#x6A21;&#x5F0F;&#xFF09;&#x6765;&#x5206;&#x652F;UI&#xFF0C;&#x8FD9;&#x5F88;&#x6709;&#x7528;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token comment">// usually all you need</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/somewhere<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>\n\n<span class="token comment">// but you can use a location instead</span>\n<span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token punctuation">{</span>\n  pathname<span class="token punctuation">:</span> <span class="token string">&apos;/somewhere&apos;</span><span class="token punctuation">,</span>\n  state<span class="token punctuation">:</span> <span class="token punctuation">{</span> fromDashboard<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>location<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\nhistory<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>\nhistory<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x6700;&#x540E;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5C06; location &#x4F20;&#x9012;&#x7ED9;&#x4EE5;&#x4E0B;&#x7EC4;&#x4EF6;&#xFF1A;</p>\n<ul>\n<li><a href="/core/api/Route/location" class="internal-link">Route</a></li>\n<li><a href="/core/api/Switch/location" class="internal-link">Switch</a></li>\n</ul>\n<p>&#x8FD9;&#x5C06;&#x963B;&#x6B62;&#x4ED6;&#x4EEC;&#x5728; router &#x7684;&#x72B6;&#x6001;&#x4E0B;&#x4F7F;&#x7528;&#x5B9E;&#x9645;&#x7684; location&#x3002;&#x8FD9;&#x5BF9;&#x52A8;&#x753B;&#x548C;&#x5728;&#x7B49;&#x5F85;&#x7684;&#x5BFC;&#x822A;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C;&#x6216;&#x8005;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x4F60;&#x60F3;&#x54C4;&#x9A97;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x5728;&#x4E0D;&#x540C;&#x7684; location &#x6E32;&#x67D3;&#x5230;&#x771F;&#x5B9E;&#x7684;&#x4F4D;&#x7F6E;&#x3002;</p>\n',headers:[],title:{text:"location",slug:"location"}}},627:function(n,a){n.exports={markup:'<h1 id="match"><a href="/core/api/match" class="internal-link">match</a></h1>\n<p>&#x4E00;&#x4E2A; <code>match</code>&#xA0;&#x5BF9;&#x8C61;&#x4E2D;&#x5305;&#x6DB5;&#x4E86;&#x6709;&#x5173;&#x5982;&#x4F55;&#x5339;&#x914D; URL &#x7684;&#x4FE1;&#x606F;&#x3002;<code>match</code> &#x5BF9;&#x8C61;&#x4E2D;&#x5305;&#x6DB5;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;&#xFF1A;</p>\n<ul>\n<li><code>params</code> - (object) key&#xFF0F;value &#x4E0E;&#x52A8;&#x6001;&#x8DEF;&#x5F84;&#x7684; URL &#x5BF9;&#x5E94;&#x89E3;&#x6790;</li>\n<li><code>isExact</code> - (boolean) <code>true</code>  &#x5982;&#x679C;&#x5339;&#x914D;&#x6574;&#x4E2A; URL &#xFF08;&#x6CA1;&#x6709;&#x7ED3;&#x5C3E;&#x5B57;&#x7B26;&#xFF09;</li>\n<li><code>path</code> - (string)  &#x7528;&#x4E8E;&#x5339;&#x914D;&#x7684;&#x8DEF;&#x5F84;&#x6A21;&#x5F0F;&#x3002;&#x88AB;&#x5D4C;&#x5957;&#x5728; <code>&lt;Route&gt;</code> &#x4E2D;&#x4F7F;&#x7528;</li>\n<li><code>url</code> - (string)  &#x7528;&#x4E8E;&#x5339;&#x914D;&#x90E8;&#x5206;&#x7684; URL &#x3002;&#x88AB;&#x5D4C;&#x5957;&#x5728; <code>&lt;Link&gt;</code> &#x4E2D;&#x4F7F;&#x7528;</li>\n</ul>\n<p>&#x4F60;&#x5C06;&#x4F1A;&#x5728;&#x8FD9;&#x4E9B;&#x5730;&#x65B9;&#x7528;&#x5230; <code>match</code> &#x5BF9;&#x8C61;&#xFF1A;</p>\n<ul>\n<li><a href="/core/api/Route/component" class="internal-link">Route component</a> &#x4F8B;&#x5982; <code>this.props.match</code></li>\n<li><a href="/core/api/Route/render-func" class="internal-link">Route render</a> &#x4F8B;&#x5982; <code>({ match }) =&gt; ()</code></li>\n<li><a href="/core/api/Route/children-func" class="internal-link">Route children</a> &#x4F8B;&#x5982; <code>({ match }) =&gt; ()</code></li>\n<li><a href="/core/api/withRouter" class="internal-link">withRouter</a> &#x4F8B;&#x5982; <code>this.props.match</code></li>\n<li><a href="/core/api/matchPath" class="internal-link">matchPath</a> &#x4F8B;&#x5982;  &#x8FD4;&#x56DE;&#x503C;</li>\n</ul>\n<p>&#x5982;&#x679C; Route &#x6CA1;&#x6709; <code>path</code>&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x4F1A;&#x4E00;&#x76F4;&#x4E0E;&#x4ED6;&#x6700;&#x8FD1;&#x7684;&#x7236;&#x7EA7;&#x5339;&#x914D;&#x3002;&#x8FD9;&#x4E5F;&#x540C;&#x6837;&#x9002;&#x7528;&#x4E8E;<code>withRouter</code>&#x3002;</p>\n<h2 id="match-null-matches"><a href="/core/api/match/null-matches" class="internal-link">null matches</a></h2>\n<p>&#x5F53;&#x524D;&#x8DEF;&#x7531;&#x7684; <code>path</code> &#x4E0E;&#x5F53;&#x524D;&#x5730;&#x5740;&#x4E0D;&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x4F7F;&#x7528; <code>children</code>  &#x5C5E;&#x6027;&#x7684; <code>&lt;Route&gt;</code> &#x5C06;&#x8C03;&#x7528; <code>children</code> &#x65B9;&#x6CD5;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C; <code>match</code> &#x5C06;&#x4E3A; <code>null</code> &#x3002;&#x5F53;<code>&lt;Route&gt;</code> &#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x80FD;&#x591F;&#x88AB;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#x65F6;&#xFF0C;&#x8BF4;&#x660E;&#x5339;&#x914D;&#x6210;&#x529F;&#xFF0C;&#x4F46;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x662F;&#x6709;&#x6311;&#x6218;&#x6027;&#x7684;&#x3002;</p>\n<p>&#x201C;&#x89E3;&#x6790;&#x201D;URL&#x7684;&#x9ED8;&#x8BA4;&#x65B9;&#x5F0F;&#x662F;&#x5C06; <code>match.url</code> &#x5B57;&#x7B26;&#x4E32;&#x8FDE;&#x63A5;&#x5230;&#x201C;&#x76F8;&#x5BF9;&#x201D;&#x8DEF;&#x5F84;&#x3002;</p>\n<pre><code class="language-js"><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>match<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/relative-path`</span></span>\n</code></pre>\n<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x5339;&#x914D;&#x4E3A; <code>null</code> &#x65F6;&#x5C1D;&#x8BD5;&#x6267;&#x884C;&#x6B64;&#x64CD;&#x4F5C;&#xFF0C;&#x5219;&#x4F1A;&#x51FA;&#x73B0;<code>TypeError</code>&#x3002;&#x5B83;&#x7684;&#x610F;&#x601D;&#x662F;&#x5728;&#x4F7F;&#x7528;&#x5B50;&#x7EA7;&#x5C5E;&#x6027;&#x65F6;&#x5728; <code>&lt;Route&gt;</code> &#x5185;&#x90E8;&#x52A0;&#x5165;&#x201C;&#x76F8;&#x5BF9;&#x201D;&#x8DEF;&#x5F84;&#x662F;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#x3002;</p>\n<p>&#x5F53;&#x60A8;&#x5728;&#x751F;&#x6210;<code>null</code>&#x5339;&#x914D;&#x5BF9;&#x8C61;&#x7684; <code>&lt;Route&gt;</code> &#x5185;&#x90E8;&#x4F7F;&#x7528;&#x65E0;&#x8DEF;&#x5F84;&#x7684; <code>&lt;Route&gt;</code> &#x65F6;&#x3002;&#x4F1A;&#x51FA;&#x73B0;&#x7C7B;&#x4F3C;&#x4F46;&#x66F4;&#x5FAE;&#x5999;&#x7684;&#x60C5;&#x51B5;&#x3002;</p>\n<pre><code class="language-js"><span class="token comment">// location.pathname = &apos;/matches&apos;</span>\n<span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&apos;/does-not-match&apos;</span> children<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> match <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token comment">// match === null</span>\n  <span class="token operator">&lt;</span>Route render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> match<span class="token punctuation">:</span>pathlessMatch <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n    <span class="token comment">// pathlessMatch === ???</span>\n  <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n</code></pre>\n<p>&#x65E0;&#x8DEF;&#x5F84;&#x7684; <code>&lt;Route&gt;</code> &#x4ECE;&#x5B83;&#x4EEC;&#x7684;&#x7236;&#x8282;&#x70B9;&#x7EE7;&#x627F;&#x5B83;&#x4EEC;&#x7684;<code>match</code>&#x5BF9;&#x8C61;&#x3002; &#x5982;&#x679C;&#x4ED6;&#x4EEC;&#x7684;&#x7236;<code>match</code>&#x662F;<code>null</code>&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x4EEC;&#x7684;&#x5339;&#x914D;&#x4E5F;&#x662F;<code>null</code>&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF1A;a&#xFF09;&#x4EFB;&#x4F55;&#x5B50;&#x8DEF;&#x7531;/&#x94FE;&#x63A5;&#x5FC5;&#x987B;&#x662F;&#x7EDD;&#x5BF9;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x7236;&#x7EA7;&#x53BB;&#x89E3;&#x51B3;&#xFF0C;&#x5E76;&#x4E14;b&#xFF09;&#x7236;&#x7EA7;&#x8DEF;&#x5F84;<code>match</code>&#x53EF;&#x4EE5;&#x662F;<code>null</code>&#x7684;&#x65E0;&#x8DEF;&#x5F84;&#x8DEF;&#x7531;&#x5C06;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5B50;&#x7EA7;&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x6E32;&#x67D3;&#x3002;</p>\n',headers:[{text:"null matches",slug:"null-matches"}],title:{text:"match",slug:"match"}}},628:function(n,a){n.exports={markup:'<h1 id="withRouter"><a href="/core/api/withRouter" class="internal-link">withRouter</a></h1>\n<p>&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>withRouter</code> &#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#x8BBF;&#x95EE; <a href="/core/api/history" class="internal-link"><code>history</code></a> &#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x6700;&#x8FD1;&#x7684; <a href="/core/api/Route" class="internal-link"><code>&lt;Route&gt;</code></a> &#x7684; <a href="/core/api/match" class="internal-link"><code>match</code></a> &#x3002; &#x5F53;&#x8DEF;&#x7531;&#x6E32;&#x67D3;&#x65F6;&#xFF0C; <code>withRouter</code> &#x4F1A;&#x5C06;&#x5DF2;&#x7ECF;&#x66F4;&#x65B0;&#x7684; <code>match</code> &#xFF0C; <code>location</code> &#x548C; <code>history</code> &#x5C5E;&#x6027;&#x4F20;&#x9012;&#x7ED9;&#x88AB;&#x5305;&#x88F9;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>\n<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">&apos;prop-types&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router&apos;</span>\n\n<span class="token comment">// &#x663E;&#x793A;&#x5F53;&#x524D;&#x4F4D;&#x7F6E;&#x7684;&#x8DEF;&#x5F84;&#x540D;&#x7684;&#x7B80;&#x5355;&#x7EC4;&#x4EF6;</span>\n<span class="token keyword">class</span> <span class="token class-name">ShowTheLocation</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token keyword">static</span> propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>\n    match<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>\n    location<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>\n    history<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">.</span>isRequired\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> match<span class="token punctuation">,</span> location<span class="token punctuation">,</span> history <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props\n\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>You are now at <span class="token punctuation">{</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x201C;connected&#x201D;&#x7684;&#x65B0;&#x7EC4;&#x4EF6;&#xFF08;&#x501F;&#x7528;Redux &#x672F;&#x8BED;&#xFF09;&#x5230;&#x8DEF;&#x7531;&#x5668;&#x3002;</span>\n\n<span class="token keyword">const</span> ShowTheLocationWithRouter <span class="token operator">=</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>ShowTheLocation<span class="token punctuation">)</span>\n</code></pre>\n<h4>&#x91CD;&#x8981;&#x63D0;&#x793A;</h4>\n<p>withRouter &#x4E0D;&#x652F;&#x6301;&#x4F4D;&#x7F6E;&#x66F4;&#x6539;&#xFF0C;&#x6BD4;&#x5982; React Redux &#x7684; <code>connect</code> &#x5BF9;&#x72B6;&#x6001;&#x66F4;&#x6539;&#x7684;&#x54CD;&#x5E94;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x5F53; location &#x6539;&#x53D8;&#x4ECE; <code>&lt;Router&gt;</code> &#x7EC4;&#x4EF6;&#x4F20;&#x64AD;&#x51FA;&#x53BB;&#x540E;&#x518D;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740; <code>withRouter</code> &#x4E0D;&#x4F1A;&#x5728;&#x8DEF;&#x7531;&#x8F6C;&#x6362;&#x4E0A;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#xFF0C;&#x9664;&#x975E;&#x5B83;&#x7684;&#x7236;&#x7EC4;&#x4EF6;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;&#x5982;&#x679C;&#x4F60;&#x6B63;&#x5728;&#x4F7F;&#x7528; <code>withRouter</code> &#x6765;&#x9632;&#x6B62;&#x7531; <code>shouldComponentUpdate</code>  &#x963B;&#x585E;&#x7684;&#x66F4;&#x65B0;&#xFF0C;&#x90A3;&#x4E48;&#x7528; <code>withRouter</code> &#x6765;&#x5305;&#x88F9;&#x6267;&#x884C; <code>shouldComponentUpdate</code> &#x7684;&#x7EC4;&#x4EF6;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x4F7F;&#x7528; Redux &#x7684;&#x65F6;&#x5019;&#xFF1A;</p>\n<pre><code class="language-js"><span class="token comment">// This gets around shouldComponentUpdate</span>\n<span class="token function">withRouter</span><span class="token punctuation">(</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token comment">// or</span>\n<span class="token function">compose</span><span class="token punctuation">(</span>\n  withRouter<span class="token punctuation">,</span>\n  <span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n\n<span class="token comment">// This does not</span>\n<span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token function">withRouter</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span><span class="token punctuation">)</span>\n<span class="token comment">// nor</span>\n<span class="token function">compose</span><span class="token punctuation">(</span>\n  <span class="token function">connect</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  withRouter\n<span class="token punctuation">)</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n</code></pre>\n<p>&#x8BF7;&#x67E5;&#x9605;<a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/blocked-updates.md">&#x6307;&#x5357;</a>&#x4EE5;&#x83B7;&#x53D6;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</p>\n<h4>&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x548C;&#x5C5E;&#x6027;</h4>\n<p>&#x6240;&#x6709; non-react &#x7684;&#x7279;&#x5B9A;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x548C;&#x5305;&#x88F9;&#x7EC4;&#x4EF6;&#x7684;&#x5C5E;&#x6027;&#x90FD;&#x88AB;&#x590D;&#x5236;&#x5230; &#x201C;connected&#x201D; &#x7EC4;&#x4EF6;&#x4E2D;&#x3002;</p>\n<h2 id="withRouter-componentwrappedcomponent"><a href="/core/api/withRouter/componentwrappedcomponent" class="internal-link">Component.WrappedComponent</a></h2>\n<p>&#x88AB;&#x5305;&#x88F9;&#x7684;&#x7EC4;&#x4EF6;&#x4F5C;&#x4E3A;&#x8FD4;&#x56DE;&#x7EC4;&#x4EF6;&#x4E0A;&#x7684;&#x9759;&#x6001;&#x5C5E;&#x6027;   <code>WrappedComponent</code> &#x516C;&#x5F00;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x53EF;&#x7528;&#x4E8E;&#x5728;&#x5176;&#x4ED6;&#x7EC4;&#x4EF6;&#x4E2D;&#x9694;&#x79BB;&#x6D4B;&#x8BD5;&#x7EC4;&#x4EF6;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token comment">// MyComponent.js</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">)</span>\n\n<span class="token comment">// MyComponent.test.js</span>\n<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">&apos;./MyComponent&apos;</span>\n<span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent.WrappedComponent</span> <span class="token attr-name">location</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="withRouter-wrappedcomponentref-func"><a href="/core/api/withRouter/wrappedcomponentref-func" class="internal-link">wrappedComponentRef: func</a></h2>\n<p>&#x4E00;&#x4E2A;&#x4F5C;&#x4E3A; <code>ref</code> &#x7684;&#x5C5E;&#x6027;&#x4F20;&#x9012;&#x7ED9;&#x88AB;&#x5305;&#x88F9;&#x7EC4;&#x4EF6;&#x7684;&#x51FD;&#x6570;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Container</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>component<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MyComponent</span> <span class="token attr-name">wrappedComponentRef</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>c <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>component <span class="token operator">=</span> c<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n',headers:[{text:"Component.WrappedComponent",slug:"componentwrappedcomponent"},{text:"wrappedComponentRef: func",slug:"wrappedcomponentref-func"}],title:{text:"withRouter",slug:"withRouter"}}},629:function(n,a){n.exports={markup:'<h1 id="quick-start"><a href="/core/guides/quick-start" class="internal-link">Quick Start</a></h1>\n<p>&#x4F60;&#x53EF;&#x80FD;&#x60F3;&#x8981;&#x9605;&#x8BFB;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p>\n<ul>\n<li><a href="/web/guides/quick-start" class="internal-link">Web &#x5FEB;&#x901F;&#x5F00;&#x59CB;</a></li>\n<li><a href="/native/guides/quick-start" class="internal-link">Native &#x5FEB;&#x901F;&#x5F00;&#x59CB;</a></li>\n</ul>\n<h2 id="quick-start-"><a href="/core/guides/quick-start/" class="internal-link">&#x5B89;&#x88C5;</a></h2>\n<p>React Router Core &#x5DF2;&#x7ECF;&#x53D1;&#x5E03;&#x5230; <a href="https://npm.im/react-router">npm</a>&#xFF0C;&#x56E0;&#x6B64;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>npm</code> &#x6216;&#x8005; <a href="https://yarnpkg.com"><code>yarn</code></a>&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#x3002;</p>\n<pre><code class="language-sh"><span class="token function">npm</span> <span class="token function">install</span> react-router\n<span class="token comment"># or</span>\nyarn add react-router\n</code></pre>\n',headers:[{text:"安装",slug:""}],title:{text:"Quick Start",slug:"quick-start"}}},630:function(n,a){n.exports={markup:'<h1 id="testing"><a href="/core/guides/testing" class="internal-link">Testing</a></h1>\n<p>React Router &#x4F9D;&#x9760; React &#x73AF;&#x5883;&#x4F7F;&#x7528; &#x3002;&#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x4F60;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x7684;&#x7EC4;&#x4EF6;&#x6765;&#x6D4B;&#x8BD5;&#x4F60;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</p>\n<h2 id="testing-context"><a href="/core/guides/testing/context" class="internal-link">Context</a></h2>\n<p>&#x5982;&#x679C;&#x4F60;&#x8BD5;&#x56FE;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x6E32;&#x67D3;&#x4E86; <code>&lt;Link&gt;</code> &#x6216;&#x8005; <code>&lt;Router&gt;</code> &#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x4F60;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E9B;&#x6709;&#x5173;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x548C;&#x8B66;&#x544A;&#x4FE1;&#x606F;&#x3002;&#x867D;&#x7136;&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x8BD5;&#x56FE;&#x81EA;&#x5DF1;&#x5220;&#x9664;&#x8DEF;&#x7531;&#x5668;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x5EFA;&#x8BAE;&#x4F60;&#x5C06;&#x4F60;&#x7684;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x5305;&#x88F9;&#x5728; <code>&lt;StaticRouter&gt;</code> &#x6216;&#x8005; <code>&lt;MemoryRouter&gt;</code> &#x4E2D;&#x3002;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#xFF1A;</p>\n<pre><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Sidebar</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>toggleExpand<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n          expand\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>\n          <span class="token punctuation">{</span>users<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>user <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>\n               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>path<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n                 <span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span>\n               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// &#x65AD;&#x5F00;</span>\n<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&apos;it expands when the button is clicked&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sidebar</span><span class="token punctuation">/&gt;</span></span>\n  <span class="token punctuation">)</span>\n  <span class="token function">click</span><span class="token punctuation">(</span>theButton<span class="token punctuation">)</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>theThingToBeOpen<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n\n<span class="token comment">// &#x56FA;&#x5B9A;&#xFF01;</span>\n<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&apos;it expands when the button is clicked&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sidebar</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span>\n  <span class="token function">click</span><span class="token punctuation">(</span>theButton<span class="token punctuation">)</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>theThingToBeOpen<span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<p>&#x4EE5;&#x4E0A;&#x5C31;&#x662F;&#x5B83;&#x7684;&#x6240;&#x6709;&#x793A;&#x4F8B;&#x3002;</p>\n<h2 id="testing-"><a href="/core/guides/testing/" class="internal-link">&#x4ECE;&#x7279;&#x5B9A;&#x7684;&#x8DEF;&#x7531;&#x5F00;&#x59CB;</a></h2>\n<p><code>&lt;MemoryRouter&gt;</code> &#x652F;&#x6301; <code>initialEntries</code> &#x548C; <code>initialIndex</code> &#x5C5E;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x4F60;&#x53EF;&#x4EE5;&#x4ECE;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x5730;&#x5740;&#xFF08;location&#xFF09;&#x6765;&#x542F;&#x52A8;&#x4F60;&#x7684; app&#xFF08;&#x6216;&#x8005;&#x662F; app &#x7684;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x5C0F;&#x90E8;&#x5206;&#xFF09;&#x3002;</p>\n<pre><code class="language-jsx"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&apos;current user is active in sidebar&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span> <span class="token attr-name">initialEntries</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span> <span class="token string">&apos;/users/2&apos;</span> <span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Sidebar</span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n  <span class="token punctuation">)</span>\n  <span class="token function">expectUserToBeActive</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n<h2 id="testing-navigating"><a href="/core/guides/testing/navigating" class="internal-link">Navigating</a></h2>\n<p>&#x5F53;&#x5730;&#x5740;&#xFF08;location&#xFF09;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5BF9;&#x8DEF;&#x7531;&#x8FDB;&#x884C;&#x5927;&#x91CF;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x56E0;&#x6B64;&#x4F60;&#x53EF;&#x80FD;&#x4E0D;&#x9700;&#x8981;&#x6D4B;&#x8BD5;&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4F60;&#x5FC5;&#x987B;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x57FA;&#x4E8E;&#x4E00;&#x5207;&#x90FD;&#x5728;&#x6E32;&#x67D3;&#x4E2D;&#x53D1;&#x751F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x50CF;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x66F4;&#x806A;&#x660E;&#x4E00;&#x70B9;&#xFF1A;</p>\n<pre><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> render<span class="token punctuation">,</span> unmountComponentAtNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-dom&apos;</span>\n<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Route<span class="token punctuation">,</span> Link<span class="token punctuation">,</span> MemoryRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-router-dom&apos;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Simulate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-addons-test-utils&apos;</span>\n\n<span class="token comment">// &#x628A;&#x6574;&#x4E2A; app &#x90FD;&#x653E;&#x5728;&#x4E00;&#x4E2A; MemoryRouter &#x91CC;&#x9762;&#x6E32;&#x67D3;&#x7684;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x662F;</span>\n<span class="token comment">// &#x628A;&#x4ED6;&#x4EEC;&#x90FD;&#x653E;&#x8FDB;&#x4E00;&#x4E2A;&#x8981;&#x6267;&#x884C;&#x7684;&#x6B65;&#x9AA4;&#x5217;&#x8868;&#x91CC;&#x9762;&#xFF0C;</span>\n<span class="token comment">// &#x5F53;&#x5730;&#x5740;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;</span>\n<span class="token comment">// &#x5B83;&#x5C31;&#x4F1A;&#x8FDE;&#x540C; `match`&#xFF0C;`location`&#xFF0C;&#x548C; `history` &#x4E00;&#x8D77;&#x88AB;&#x56DE;&#x8C03;&#xFF0C;</span>\n<span class="token comment">// &#x56E0;&#x6B64;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x548C;&#x505A;&#x65AD;&#x8A00;&#x3002;</span>\n<span class="token keyword">const</span> <span class="token function-variable function">renderTestSequence</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>\n  initialEntries<span class="token punctuation">,</span>\n  initialIndex<span class="token punctuation">,</span>\n  subject<span class="token punctuation">:</span> Subject<span class="token punctuation">,</span>\n  steps\n<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&apos;div&apos;</span><span class="token punctuation">)</span>\n\n  <span class="token keyword">class</span> <span class="token class-name">Assert</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n\n    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">assert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> nextStep <span class="token operator">=</span> steps<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>nextStep<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token function">nextStep</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">,</span> div <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token function">unmountComponentAtNode</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MemoryRouter</span>\n          <span class="token attr-name">initialIndex</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>initialIndex<span class="token punctuation">}</span></span>\n          <span class="token attr-name">initialEntries</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>initialEntries<span class="token punctuation">}</span></span>\n        <span class="token punctuation">&gt;</span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n            <span class="token operator">&lt;</span>Assert <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Subject</span><span class="token punctuation">/&gt;</span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Assert</span><span class="token punctuation">&gt;</span></span>\n          <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MemoryRouter</span><span class="token punctuation">&gt;</span></span>\n      <span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Test</span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> div<span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// &#x6211;&#x4EEC;&#x7684; Subject &#x662F;&#x8FD9;&#x4E2A; App&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x6D4B;&#x8BD5;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7684;&#x4EFB;&#x4F55;&#x5B50;&#x90E8;&#x5206;</span>\n<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Welcome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/dashboard<span class="token punctuation">&quot;</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click-me<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n<span class="token punctuation">)</span>\n\n<span class="token comment">// &#x5B9E;&#x9645;&#x6D4B;&#x8BD5;&#xFF01;</span>\n<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&apos;navigates around&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>done<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n\n  <span class="token function">renderTestSequence</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n\n    <span class="token comment">// &#x544A;&#x8BC9;&#x5B83;&#x4F60;&#x6B63;&#x5728;&#x6D4B;&#x8BD5;&#x7684; subject</span>\n    subject<span class="token punctuation">:</span> App<span class="token punctuation">,</span>\n\n    <span class="token comment">// &#x4EE5;&#x53CA;&#x6BCF;&#x6B21;&#x4F4D;&#x7F6E;&#x53D8;&#x5316;&#x65F6;&#x6267;&#x884C;&#x7684;&#x6B65;&#x9AA4;</span>\n    steps<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n      \n      <span class="token comment">// &#x521D;&#x59CB;&#x6E32;&#x67D3;</span>\n      <span class="token punctuation">(</span><span class="token punctuation">{</span> history<span class="token punctuation">,</span> div <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n        <span class="token comment">// &#x65AD;&#x8A00;&#x5C4F;&#x5E55;&#x7684;&#x8F93;&#x51FA;&#x662F;&#x5426;&#x5982;&#x540C;&#x6211;&#x4EEC;&#x671F;&#x671B;&#x7684;&#x8F93;&#x51FA;</span>\n        console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Welcome/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\n        <span class="token comment">// &#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x6D4B;&#x8BD5;&#x5F3A;&#x5236;&#x5BFC;&#x822A;</span>\n        history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&apos;/dashboard&apos;</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n\n      <span class="token comment">// &#x4ECE;&#x65B0;&#x7684;&#x5730;&#x5740;&#x53D1;&#x8D77;&#x7B2C;&#x4E8C;&#x6B21;&#x6E32;&#x67D3;</span>\n      <span class="token punctuation">(</span><span class="token punctuation">{</span> div <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/Dashboard/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\n        <span class="token comment">// &#x6216;&#x8005;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6A21;&#x62DF;&#x70B9;&#x51FB;&#x94FE;&#x63A5;&#xFF0C;&#x800C;&#x4E0D;&#x4F7F;&#x7528; history.push</span>\n        Simulate<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&apos;#click-me&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n          button<span class="token punctuation">:</span> <span class="token number">0</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n\n      <span class="token comment">// &#x6700;&#x7EC8;&#x6E32;&#x67D3;</span>\n      <span class="token punctuation">(</span><span class="token punctuation">{</span> location <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>pathname <span class="token operator">===</span> <span class="token string">&apos;/&apos;</span><span class="token punctuation">)</span>\n        <span class="token comment">// &#x4F60;&#x9700;&#x8981;&#x5728;&#x8FD9;&#x91CC;&#x5199;&#x4E0B; `done()`&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4ECE;&#x672A;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x4F60;&#x7684;&#x6D4B;&#x8BD5;&#x662F;&#x5931;&#x8D25;&#x7684;&#x3002;</span>\n        <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">]</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre>\n',headers:[{text:"Context",slug:"context"},{text:"从特定的路由开始",slug:""},{text:"Navigating",slug:"navigating"}],title:{text:"Testing",slug:"testing"}}}});
//# sourceMappingURL=2-23be7fcd49e00b5dba3d.js.map